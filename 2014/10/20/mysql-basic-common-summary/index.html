<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MYSQL 常用总结【基础】 | Suzf Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="文章是之前总结的，还不是很完善。对于新手来说也许有一些帮助吧。
文章难免会出现一些错误，请大家指出。
Mysql 忘记root密码在/etc/my.cfg [mysqld]下面添加skip-grant-tables或是skip-grant
重启MySQLuse mysql;UPDATE user SET Password = password ( ‘new-password’ ) WHERE Us">
<meta property="og:type" content="article">
<meta property="og:title" content="MYSQL 常用总结【基础】">
<meta property="og:url" content="http://blog.suzf.net/2014/10/20/mysql-basic-common-summary/index.html">
<meta property="og:site_name" content="Suzf Blog">
<meta property="og:description" content="文章是之前总结的，还不是很完善。对于新手来说也许有一些帮助吧。
文章难免会出现一些错误，请大家指出。
Mysql 忘记root密码在/etc/my.cfg [mysqld]下面添加skip-grant-tables或是skip-grant
重启MySQLuse mysql;UPDATE user SET Password = password ( ‘new-password’ ) WHERE Us">
<meta property="og:updated_time" content="2016-01-13T07:18:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MYSQL 常用总结【基础】">
<meta name="twitter:description" content="文章是之前总结的，还不是很完善。对于新手来说也许有一些帮助吧。
文章难免会出现一些错误，请大家指出。
Mysql 忘记root密码在/etc/my.cfg [mysqld]下面添加skip-grant-tables或是skip-grant
重启MySQLuse mysql;UPDATE user SET Password = password ( ‘new-password’ ) WHERE Us">
  
    <link rel="alternative" href="/atom.xml" title="Suzf Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Suzf Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Life is short, We need smile.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.suzf.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mysql-basic-common-summary" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/20/mysql-basic-common-summary/" class="article-date">
  <time datetime="2014-10-20T08:48:10.000Z" itemprop="datePublished">2014-10-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mysql/">Mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MYSQL 常用总结【基础】
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>文章是之前总结的，还不是很完善。对于新手来说也许有一些帮助吧。</p>
<p>文章难免会出现一些错误，请大家指出。</p>
<p>Mysql 忘记root密码<br>在/etc/my.cfg [mysqld]下面添加<br>skip-grant-tables<br>或是<br>skip-grant</p>
<p>重启MySQL<br>use mysql;<br>UPDATE user SET Password = password ( ‘new-password’ ) WHERE User = ‘root’ ;<br>mysql flush privileges;<br>将my.cfg文件修改回来 ，重启MySQL即可。</p>
<p>二、在启动Mysql服务器时加上参数–skip-grant-tables来跳过授权表的验证<br>    (./safe_mysqld –skip-grant-tables &amp;)，这样我们就可以直接登陆Mysql服务器，<br>    然后再修改root用户的口令，重启Mysql就可以用新口令登陆了。</p>
<p>添加环境变量<br>PATH=$PATH:/usr/local/mysql/bin  加入到/etc/profile中</p>
<p>只需本机使用Mysql服务<br>在启动时还可以加上–skip-networking参数使Mysql不监听任何TCP/IP连接<br>(./safe_mysqld –skip-networking &amp;)，增加安全性。（非常推荐）</p>
<p>查看支持的存储引擎<br> mysql&gt; show engines;<br>+————+———+————————————————————+————–+——+————+<br>| Engine     | Support | Comment                                                    | Transactions | XA   | Savepoints |<br>+————+———+————————————————————+————–+——+————+<br>| MRG_MYISAM | YES     | Collection of identical MyISAM tables                      | NO           | NO   | NO         |<br>| CSV        | YES     | CSV storage engine                                         | NO           | NO   | NO         |<br>| MyISAM     | DEFAULT | Default engine as of MySQL 3.23 with great performance    | NO           | NO   | NO         |<br>| InnoDB     | YES     | Supports transactions, row-level locking, and foreign keys | YES          | YES  | YES        |<br>| MEMORY     | YES     | Hash based, stored in memory, useful for temporary tables  | NO           | NO   | NO         |<br>+————+———+————————————————————+————–+——+————</p>
<p>查看当前MySQL的默认数据引擎<br>show variables like ‘%engine%’;<br>mysql&gt; show variables like ‘%engine%’;<br>+—————————+——–+<br>| Variable_name             | Value  |<br>+—————————+——–+<br>| engine_condition_pushdown | ON     |<br>| storage_engine            | MyISAM |<br>+—————————+——–+<br>2 rows in set (0.00 sec)</p>
<p>查看和修改最大连接数<br>  使用MySQL 数据库的站点，当访问连接数过多时，就会出现 “Too many connections” 的错误。<br>  出现这种错误有两种情况，一种是网站访问量实在太大，服务器已经负担不起，此时就应该考虑负载均衡或者其它减少服务器压力的办法。另一种情况就是 MySQL 的最大连接数设置得太小，当访问量稍大就出现连接过多的错误。</p>
<p>  show variables like ‘%max_connections%’;<br>  要对 mysql 的最大连接数进行修改，只需要在 my.cnf 配置文件里面修改 max_connections 的值，然后重启 mysql 就行。<br>  如果 my.ini 文件中没有找到 max_connections 条目，可自行添加以下条目。</p>
<p>  max_connections = 220<br>  或是<br>  mysql&gt;set global max_user_connections = 200; [仅本次修改有效]</p>
<p>实时查看mysql当前连接数<br>前提：对用户和远程主机有授权<br>mysql&gt; grant all on <em>.</em> to root@192.168.9.9 identified by ‘ocean@mx’;<br>Query OK, 0 rows affected (0.00 sec)</p>
<p>mysql&gt; flush privileges;<br>Query OK, 0 rows affected (0.00 sec)</p>
<p>[root@OceanV ~]# mysqladmin -uroot -p -h192.168.9.9  processlist<br>Enter password:<br>+—-+——+——————-+—-+———+——+——-+——————+<br>| Id | User | Host              | db | Command | Time | State | Info             |<br>+—-+——+——————-+—-+———+——+——-+——————+<br>| 41 | root | localhost         |    | Sleep   | 13   |       |                  |<br>| 56 | root | 192.168.9.9:45422 |    | Query   | 0    |       | show processlist |<br>+—-+——+——————-+—-+———+——+——-+——————+</p>
<p>只查看当前连接数(Threads就是连接数）<br>[root@OceanV ~]# mysqladmin -uroot -pocean@mx status<br>Uptime: 4449  Threads: 2  Questions: 18697  Slow queries: 0  Opens: 77  Flush tables: 1  Open tables: 31  Queries per second avg: 4.202<br>或是 show full processlist;<br>mysql&gt; show full processlist;<br>+—-+——+———–+——-+———+——+——-+———————–+<br>| Id | User | Host      | db    | Command | Time | State | Info                  |<br>+—-+——+———–+——-+———+——+——-+———————–+<br>| 41 | root | localhost | NULL  | Query   |    0 | NULL  | show full processlist |<br>| 65 | root | localhost | cacti | Sleep   |    4 |       | NULL                  |<br>| 68 | root | localhost | NULL  | Sleep   |   27 |       | NULL                  |<br>+—-+——+———–+——-+———+——+——-+———————–+<br>3 rows in set (0.00 sec)<br>看一下所有连接进程，注意查看进程等待时间以及所处状态 是否locked<br>如果进程过多，就把进程打印下来，然后查看.<br>mysql -e ‘show full processlist;’ -p &gt; 111<br>查找非locked的进程，一般就是当前执行中卡死，导致后面的进程排队的原因。</p>
<p>查看MySQL连接数和当前用户Mysql连接数<br>先用管理员身份进入mysql提示符。<br>mysql -uroot -pxxxx<br>mysql &gt;show processlist;         #可以显示前100条连接信息<br>       show full processlist;    #可以显示全部。随便说下，如果用普通账号登录，就只显示这用户的。</p>
<p>修改MySQL监听端口<br> 1.如果你安装的是系统自带的rpm包的情况：<br> 修改 /etc/my.cnf<br> [mysqld]<br> datadir=/var/lib/mysql<br> port=3300                    #修改成你自己想要的端口<br>  socket=/var/lib/mysql/mysql.sock<br> [mysql.server]<br> user=mysql<br> basedir=/var/lib<br> [safe_mysqld]<br> err-log=/var/log/mysqld.log<br> pid-file=/var/run/mysqld/mysqld.pid<br> 保存退出。<br> 2.如果你安装的是其他源码包或者在同一服务器上安装多个mysqld服务的情况：<br>  同样的配置，找出my.cnf 文件。添加port= 端口号<br> 需要注意的是<br> [client]<br> port            = 3300<br> 这里也要改一下。</p>
<p>在同一台机器上配置两个MySQL服务（跑两个端口）<br>cd /usr/local/; cp -r mysql mysql_2; cd mysql_2;<br>初始化mysql2: ./scripts/mysql_install_db –user=mysql –datadir=/data/mysql2<br>拷贝配置文件：cp /etc/my.cnf ./my.cnf<br>修改配置文件相关参数：vim my.cnf  #更改port 以及 socket<br>启动：/usr/local/mysql_2/bin/mysqld_safe –defaults-file=/usr/local/mysql_2/my.cnf –user=mysql &amp;<br>若开机启动它，需加入到 /etc/rc.local中</p>
<p>查看mysql设置参数　　<br>$mysqladmin  -u root -p variables;</p>
<p>查询参数　　<br>    1) \g  在语句尾，同;<br>　　2) \G  在语句尾，使查询结果以竖形输出<br>　　3) \c  在语句尾，使当前语句不执行</p>
<p>清屏<br>! clear</p>
<p>切换mysql命令结尾符<br>dlimeter 特殊符;</p>
<p>查看当前版本和当前日期<br>此命令要求mysql服务器告诉你它的版本号和当前日期</p>
<p>mysql select version(),current_date();<br>+——————————-+—————-+<br>| version()                     | current_date() |<br>+——————————-+—————-+<br>| 4.1.7Boco_DC_Group_2004-11-24 | 2008-06-18     |<br>+——————————-+—————-+<br>1 row in set (0.00 sec)</p>
<p>当前是哪个用户<br>select user();</p>
<p>查看mysql状态<br>show status;</p>
<p>修改mysql参数<br>show variables like ‘max_connect%’; set global max_connect_errors = 1000;<br>查看mysql队列 show processlist;</p>
<p>查看mysql是否在监听端口命令<br>netstat -tl | grep mysql</p>
<p>开启服务器　　<br>    $/etc/rc.d/init.d/mysqld start<br>　　或<br>　　$mysqld_safe  –user=mysql &amp;<br>停止服务器<br>　　$/etc/rc.d/init.d/mysqld stop<br>　　或<br>　　$mysqladmin  shutdown  -u root -p<br>    或<br>　　/usr/bin/mysqladmin -u root -p shutdown</p>
<p>赋权　　<br>mysqlgrant all on dbname.* to username@ identified by ‘localhostpassword’<br>刷新权限表　　mysqlflush privileges;</p>
<p>优化表　　<br>mysqloptimize  table  tblA,tblB;<br>或 [进行优化并检查修复任务]<br>$mysqlcheck  -o  dbname  tblA tblB  tblC   -u root  -p</p>
<p>对表进行分析　　<br>mysqlanalyze  table  tblA;<br>或<br>$mysqlcheck  -a dbname [tblA  tblB tblC ] -u root -p</p>
<p>对表进行检查　　<br>mysqlcheck table tblA,tblB,tblC;</p>
<p>连接服务器　　<br>mysql -u   cnscn<br>　　      -h   192.168.0.1<br>　　      [-D  dbname]<br>　　      [-P  3306]<br>　　 [–protocol=name]    The protocol of connection (tcp,socket,pipe,memory)<br>　　      [-S, –socket=name]  连接所用的套接字文件<br>　　      [–character-sets-dir=name]  字符集所位于的目录<br>　　      [–default-character-set=name]   默认的字符集<br>　　      [-E, –vertical]  垂直地打列出查询输出</p>
<p>从命令行登录MySQL数据库服务器<br>1.登录使用默认3306端口的MySQL<br>/usr/local/mysql/bin/mysql -u root -p</p>
<p>2.通过TCP连接管理不同端口的多个MySQL（注意：MySQL4.1以上版本才有此项功能）<br>/usr/local/mysql/bin/mysql -u root -p –protocol=tcp –host=localhost –port=3307</p>
<p>3.通过socket套接字管理不同端口的多个MySQL<br>/usr/local/mysql/bin/mysql -u root -p –socket=/tmp/mysql3307.sock</p>
<p>4.通过端口和IP管理不同端口的多个MySQL<br>/usr/local/mysql/bin/mysql -u root -p -P 3306 -h 127.0.0.1</p>
<p>退出mysql命令：<br>exit（回车） 提示“bye”</p>
<p>修改登录密码<br>MySQL默认没有密码，安装完毕增加密码的重要性是不言而喻的。<br>usr/bin/mysqladmin -u root password ‘new-password’<br>格式：mysqladmin -u用户名 -p旧密码 password 新密码</p>
<p>创建数据库　　<br>Mysql&gt;create database dbname;</p>
<p>显示数据库列表　　<br>mysql&gt;show databases;</p>
<p>显示数据表列表　　<br>mysql&gt;show tables;</p>
<p>显示数据表的结构<br>describe 表名;<br>或<br>desc tablesname;</p>
<p>显示表的创建信息<br>show create table tablesname;</p>
<p>创建名称为ocean的数据库<br>CREATE DATABASE ocean;<br>DROP tables tablesname;</p>
<p>将表中记录清空<br>delete from tablesname;</p>
<p>建表<br>use 库名；create table 表名(字段设定列表)；</p>
<p>删除名称为ocean的数据库<br>DROP DATABASE ocean;</p>
<p>选择ocean数据库<br>USE ocean;</p>
<p>(USE 和 QUIT 命令不需要分号结束。）</p>
<p>常用sql命令<br>查询 select count(<em>) from mysql.user; select </em> from mysql.db; select * from mysql.db where host like ‘10.0.%’;<br>插入 update db1.t1 set name=’aaa’ where id=1;<br>清空表 truncate table db1.t1;<br>删除表 drop table db1.t1;<br>删除数据库 drop database db1;<br>修复表 repair table tb1 [use frm];</p>
<p>表操作SQL语句<br>1、显示当前数据库中存在什么表<br>SHOW TABLES;</p>
<p>2、创建数据库表zhangyan<br>在mysql后粘贴以下SQL语句，存储引擎为MYISAM，字段id为主键、唯一索引<br>。<br>CREATE TABLE <code>zhangyan</code> ( <code>id</code> INT( 5 ) UNSIGNED NOT NULL AUTO_INCREMENT , <code>username</code> VARCHAR( 20 ) NOT NULL , <code>password</code> CHAR( 32 ) NOT NULL , <code>time</code> DATETIME NOT NULL , <code>number</code> FLOAT( 10 ) NOT NULL , <code>content</code> TEXT NOT NULL , PRIMARY KEY ( <code>id</code> ) ) ENGINE = MYISAM ;</p>
<p>3、查看zhangyan表结构<br>DESCRIBE zhangyan;</p>
<p>4、从表中检索信息<br>4.1、从zhangyan表中检索所有记录<br>SELECT * FROM zhangyan;</p>
<p>4.2、从zhangyan表中检索特定的行：字段username等于abc，字段number等于1，按字段id降序排列<br>SELECT * FROM zhangyan WHERE username = abc AND number=1 ORDER BY id DESC;</p>
<p>4.3、从zhangyan表中检索指定的字段：username和password<br>SELECT username, password FROM zhangyan;</p>
<p>4.4、从zhangyan表中检索出唯一的不重复记录<br>SELECT DISTINCT username FROM zhangyan;</p>
<p>5、插入信息到zhangyan表<br>INSERT INTO zhangyan (id, username, password, time, number, content) VALUES (, abc, 123456,<br>2007-08-06 14:32:12, 23.41, hello world);</p>
<p>6、更新zhangyan表中的指定信息<br>UPDATE zhangyan SET content = hello china WHERE username = abc;</p>
<p>7、删除zhangyan表中的指定信息<br>DELETE FROM zhangyan WHERE id = 1;</p>
<p>8、清空zhangyan表<br>DELETE FROM zhangyan;</p>
<p>9、删除zhangyan表<br>DROP TABLE zhangyan;</p>
<p>10、更改表结构，将zhangyan表username字段的字段类型改为CHAR(25)<br>ALTER TABLE zhangyan CHANGE username username CHAR(25);</p>
<p>11、将当前目录下的mysql.sql导入数据库<br>SOURCE ./mysql.sql;</p>
<p>12、MySQL中将字符串aaa批量替换为bbb的SQL语句<br>UPDATE表名SET字段名=REPLACE(字段名,aaa,bbb);</p>
<p>13、修复损坏的表<br>用root帐号从命令行登录MySQL：　　<br>mysql-uroot-p<br>选定数据库名（本例中的数据库名为student）：use  student;<br>修复损坏的表（本例中要修复的表为smis_user_student）：　　repair tables mis_user_student;udent;</p>
<p>一个建库和建表以及插入数据的实例<br>drop database if exists school; //如果存在SCHOOL则删除<br>create database school; //建立库SCHOOL<br>use school; //打开库SCHOOL<br>create table subject //建立表<br>(<br>id int(3) auto_increment not null primary key,<br>name char(10) not null<br>); //建表结束<br>//以下为插入字段<br>insert into subject(name) values(‘语文’);<br>insert into subject(name) values(‘数学’);<br>insert into subject(name) values(‘英语’);</p>
<p>create table student //建立表<br>(<br>id int(4) auto_increment not null primary key;<br>no char(4) not null,<br>name char(10) not null,<br>); //建表结束<br>//以下为插入字段<br>insert into student(no,name) values(‘0001’,’张三’);<br>insert into student(no,name) values(‘0002’,’李四’);</p>
<p>create table grade //建立表<br>(<br>student_no char(4) not null,<br>subject_id int(3) not null,<br>score int(3) not null default 0 null,<br>primary key(student_no,subject_id);<br>); //建表结束<br>我们这里建立的grade表student_no参考student的no字段，subject_id参考subject的id字段 它们存在约束关系，<br>我们给grade表添加两个外键：<br>subject_id字段：<br>alter table grade add foreign key(subject_id) refrences subject(id) on delete cascade on update cascade;<br>student_no字段：<br>alter table grade add foreign key(student_no) refrences student(no) on delete cascade on update cascade;<br>这个时候会报错，因为我们没有把student表中的no设为索引，前一句没有问题是因为subject的id是主键，已经是索引了<br>我们给student的no添加索引<br>alter table student add index(no);<br>然后我们再<br>alter table grade add foreign key(student_no) refrences student(no);<br>这样就OK了</p>
<p>其他一些操作：<br>添加主键： alter table 表名 add primary key(列名)<br>删除主键： alter table 表名 drop primary key;<br>给某列改名： alter table 表名 change 列名 属性列表 比如alter table student change id no char(4)<br>添加某列：<br>1 在表的最前面添加列 比如给student表添加id属性 放在表的最前面<br>alter table student add id int(4) not null auto_increment primary key first;<br>2 在表的某个列后加列 比如给student表添加id属性 放在列no的最前面<br>alter table student add a int(11) afer no;<br>删除某列： alter table 表名 drop column 列名;<br>更改某列属性 比如修改student no字段属性 alter table student modify no char(4);<br>添加索引：alter table 表名 add index 列名<br>删除索引：alter table 表名 drop index 列名<br>删除外键：alter table 表名 drop foreign key 约束名<br>limit的使用：<br>select <em> from 表名 limit 2;//如果只给定一个参数，它表示返回最大的记录行数目<br>select </em> from 表名 limit 1,3;// 第一个参数指定第一个返回记录行的偏移量，第二个参数指定返回记录行的最大数目</p>
<p>更改MySQL目录<br>MySQL默认的数据文件存储目录为/var/lib/mysql。假如要把目录移到/home/data下需要进行下面几步：<br>1、home<br>目录下建立data目录<br>cd /home<br>mkdir data<br>2、把MySQL服务进程停掉：<br>mysqladmin -u root -p shutdown<br>3、把/var/lib/mysql整个目录移到/home/data<br>mv /var/lib/mysql　/home/data/<br>这样就把MySQL的数据文件移动到了/home/data/mysql下<br>4、找到my.cnf配置文件<br>如果/etc/目录下没有my.cnf配置文件，请到/usr/share/mysql/下找到*.cnf文件，拷贝其中一个到/etc/并改名为my.cnf)中。命令如下：<br>[root@test1 mysql]# cp /usr/share/mysql/my-medium.cnf　/etc/my.cnf<br>5、编辑MySQL的配置文件/etc/my.cnf<br>为保证MySQL能够正常工作，需要指明mysql.sock文件的产生位置。 修改socket=/var/lib/mysql/mysql.sock一行中等号右边的值为：/home/mysql/mysql.sock 。<br>操作如下：<br>　　 vi　 my.cnf<br>　　 # The MySQL server<br>　　　 [mysqld]<br>　　　 port　　　= 3306<br>　　　#socket　 = /var/lib/mysql/mysql.sock（原内容，为了更稳妥用#注释此行）<br>　　　 socket　 = /home/data/mysql/mysql.sock　　　（加上此行）<br>6、修改MySQL启动脚本/etc/rc.d/init.d/mysql<br>　　最后,需要修改MySQL启动脚本/etc/rc.d/init.d/mysql，把其中datadir=/var/lib/mysql一行中，等号右边的路径改成你现在的实际存放路径：home/data/mysql。<br>　　[root@test1 etc]# vi　/etc/rc.d/init.d/mysql<br>　　#datadir=/var/lib/mysql　　　　（注释此行）<br>　　datadir=/home/data/mysql　　 （加上此行）<br>7、重新启动MySQL服务<br>　　/etc/rc.d/init.d/mysql　start<br>　　如果工作正常移动就成功了，否则对照前面的7步再检查一下。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.suzf.net/2014/10/20/mysql-basic-common-summary/" data-id="ciq4n5jbg006f7xo9gbohu4lg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mysql/">Mysql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/10/21/puppet-nginx-module-write/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Puppet Nginx module write
        
      </div>
    </a>
  
  
    <a href="/2014/10/14/faq-puppet-common-issues/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">FAQ_Puppet: common issue </div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apache/">Apache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Auto-ops/">Auto ops</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CouchBase/">CouchBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Highcharts/">Highcharts</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Puppet/">Puppet</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a><span class="category-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMD/">CMD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ceph/">Ceph</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/">Debian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Exsi/">Exsi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/">Flask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTID/">GTID</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kernel/">Kernel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kickstart/">Kickstart</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LB/">LB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LVS/">LVS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/">Life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lnmp/">Lnmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log/">Log</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxy/">Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Puppet/">Puppet</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Re/">Re</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZK/">ZK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zabbix/">Zabbix</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coredump/">coredump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/couchbase/">couchbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debug/">debug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diy/">diy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expect/">expect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/facter/">facter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/faq/">faq</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/highcharts/">highcharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idrac/">idrac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iso/">iso</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm/">lvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rewrite/">rewrite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsync/">rsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsyslog/">rsyslog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snmp/">snmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/strace/">strace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sudo/">sudo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcpdump/">tcpdump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/CMD/" style="font-size: 10px;">CMD</a> <a href="/tags/Ceph/" style="font-size: 10.91px;">Ceph</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Flask/" style="font-size: 10px;">Flask</a> <a href="/tags/GTID/" style="font-size: 10.91px;">GTID</a> <a href="/tags/Kernel/" style="font-size: 10.91px;">Kernel</a> <a href="/tags/Kickstart/" style="font-size: 10px;">Kickstart</a> <a href="/tags/LB/" style="font-size: 10px;">LB</a> <a href="/tags/LVS/" style="font-size: 10px;">LVS</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lnmp/" style="font-size: 10px;">Lnmp</a> <a href="/tags/Log/" style="font-size: 10px;">Log</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 19.09px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 16.36px;">Nginx</a> <a href="/tags/NoSQL/" style="font-size: 12.73px;">NoSQL</a> <a href="/tags/Oracle/" style="font-size: 11.82px;">Oracle</a> <a href="/tags/PHP/" style="font-size: 10.91px;">PHP</a> <a href="/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/tags/Puppet/" style="font-size: 14.55px;">Puppet</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/RAC/" style="font-size: 10.91px;">RAC</a> <a href="/tags/Re/" style="font-size: 11.82px;">Re</a> <a href="/tags/ZK/" style="font-size: 10px;">ZK</a> <a href="/tags/Zabbix/" style="font-size: 18.18px;">Zabbix</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/coredump/" style="font-size: 10px;">coredump</a> <a href="/tags/couchbase/" style="font-size: 10px;">couchbase</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/diy/" style="font-size: 10px;">diy</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/expect/" style="font-size: 10px;">expect</a> <a href="/tags/facter/" style="font-size: 10px;">facter</a> <a href="/tags/faq/" style="font-size: 17.27px;">faq</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/highcharts/" style="font-size: 10px;">highcharts</a> <a href="/tags/idrac/" style="font-size: 10px;">idrac</a> <a href="/tags/iso/" style="font-size: 10px;">iso</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/lvm/" style="font-size: 10px;">lvm</a> <a href="/tags/pip/" style="font-size: 12.73px;">pip</a> <a href="/tags/redis/" style="font-size: 15.45px;">redis</a> <a href="/tags/rewrite/" style="font-size: 10px;">rewrite</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/rsyslog/" style="font-size: 10px;">rsyslog</a> <a href="/tags/snmp/" style="font-size: 10px;">snmp</a> <a href="/tags/strace/" style="font-size: 10px;">strace</a> <a href="/tags/sudo/" style="font-size: 10px;">sudo</a> <a href="/tags/tcpdump/" style="font-size: 10px;">tcpdump</a> <a href="/tags/tomcat/" style="font-size: 13.64px;">tomcat</a> <a href="/tags/vim/" style="font-size: 10.91px;">vim</a> <a href="/tags/web/" style="font-size: 12.73px;">web</a> <a href="/tags/wiki/" style="font-size: 10px;">wiki</a> <a href="/tags/zookeeper/" style="font-size: 12.73px;">zookeeper</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/12/839/">Linux 下使用 strace 诊断疑难杂症</a>
          </li>
        
          <li>
            <a href="/2016/04/27/MySQL_mysqldump_数据导出详解/">MySQL mysqldump 数据导出详解</a>
          </li>
        
          <li>
            <a href="/2016/04/24/Python_Re_module_learn/">Python Re module learn</a>
          </li>
        
          <li>
            <a href="/2016/04/22/Python正则表达式操作指南/">Python正则表达式操作指南</a>
          </li>
        
          <li>
            <a href="/2016/04/18/Hello_Kafka/">Hello Kafka</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jeffrey Su<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>