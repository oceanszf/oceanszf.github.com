<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MySQL mysqldump 数据导出详解 | Suzf Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="介绍在日常维护工作当中经常会需要对数据进行导出操作，而mysqldump是导出数据过程中使用非常频繁的一个工具；它自带的功能参数非常多，文章中会列举出一些常用的操作，在文章末尾会将所有的参数详细说明列出来。
语法：默认不带参数的导出，导出文本内容大概如下：创建数据库判断语句-删除表-创建表-锁表-禁用索引-插入数据-启用索引-解锁表。
Usage: mysqldump [OPTIONS] data">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL mysqldump 数据导出详解">
<meta property="og:url" content="http://blog.suzf.net/2016/04/27/MySQL_mysqldump_数据导出详解/index.html">
<meta property="og:site_name" content="Suzf Blog">
<meta property="og:description" content="介绍在日常维护工作当中经常会需要对数据进行导出操作，而mysqldump是导出数据过程中使用非常频繁的一个工具；它自带的功能参数非常多，文章中会列举出一些常用的操作，在文章末尾会将所有的参数详细说明列出来。
语法：默认不带参数的导出，导出文本内容大概如下：创建数据库判断语句-删除表-创建表-锁表-禁用索引-插入数据-启用索引-解锁表。
Usage: mysqldump [OPTIONS] data">
<meta property="og:updated_time" content="2016-04-29T12:43:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL mysqldump 数据导出详解">
<meta name="twitter:description" content="介绍在日常维护工作当中经常会需要对数据进行导出操作，而mysqldump是导出数据过程中使用非常频繁的一个工具；它自带的功能参数非常多，文章中会列举出一些常用的操作，在文章末尾会将所有的参数详细说明列出来。
语法：默认不带参数的导出，导出文本内容大概如下：创建数据库判断语句-删除表-创建表-锁表-禁用索引-插入数据-启用索引-解锁表。
Usage: mysqldump [OPTIONS] data">
  
    <link rel="alternative" href="/atom.xml" title="Suzf Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Suzf Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Life is short, We need smile.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.suzf.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-MySQL_mysqldump_数据导出详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/27/MySQL_mysqldump_数据导出详解/" class="article-date">
  <time datetime="2016-04-27T13:27:53.000Z" itemprop="datePublished">2016-04-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Mysql/">Mysql</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MySQL mysqldump 数据导出详解
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>介绍<br>在日常维护工作当中经常会需要对数据进行导出操作，而mysqldump是导出数据过程中使用非常频繁的一个工具；它自带的功能参数非常多，文章中会列举出一些常用的操作，在文章末尾会将所有的参数详细说明列出来。</p>
<p>语法：<br>默认不带参数的导出，导出文本内容大概如下：创建数据库判断语句-删除表-创建表-锁表-禁用索引-插入数据-启用索引-解锁表。</p>
<p><pre class="lang:default decode:true ">Usage: mysqldump [OPTIONS] database [tables]<br>OR     mysqldump [OPTIONS] –databases [OPTIONS] DB1 [DB2 DB3…]<br>OR     mysqldump [OPTIONS] –all-databases [OPTIONS]</pre><a id="more"></a><br>插入测试数据</p>
<p><pre class="lang:default decode:true ">CREATE DATABASE db1 DEFAULT CHARSET utf8;<br>USE db1;<br>CREATE TABLE a1(id int);<br>insert into a1() values(1),(2);<br>CREATE TABLE a2(id int);<br>insert into a2() values(2);<br>CREATE TABLE a3(id int);<br>insert into a3() values(3);</pre></p>
<p>CREATE DATABASE db2 DEFAULT CHARSET utf8;<br>USE db2;<br>CREATE TABLE b1(id int);<br>insert into b1() values(1);<br>CREATE TABLE b2(id int);<br>insert into b2() values(2);<br>1. 导出所有数据库<br>该命令会导出包括系统数据库在内的所有数据库</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –all-databases &gt;/tmp/all.sql</pre><br>2. 导出db1、db2两个数据库的所有数据</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –databases db1 db2 &gt;/tmp/user.sql</pre><br>3. 导出db1中的a1、a2表<br>注意导出指定表只能针对一个数据库进行导出，且导出的内容中和导出数据库也不一样，导出指定表的导出文本中没有创建数据库的判断语句，只有删除表-创建表-导入数据</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –databases db1 –tables a1 a2  &gt;/tmp/db1.sql</pre><br>4. 条件导出，导出db1表a1中id=1的数据<br>条件导出只能导出单个表</p>
<p><pre class="lang:default decode:true">mysqldump -uroot -proot –databases db1 –tables a1 –where=’id=1’  &gt;/tmp/a1.sql<br></pre><br>5. 生成新的binlog文件,-F<br>有时候会希望导出数据之后生成一个新的binlog文件,只需要加上-F参数即可</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –databases db1 -F &gt;/tmp/db1.sql</pre><br>6. 只导出表结构不导出数据，–no-data</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –no-data –databases db1 &gt;/tmp/db1.sql</pre><br>7. 跨服务器导出导入数据</p>
<p><pre class="lang:default decode:true">mysqldump –host=h1 -uroot -proot –databases db1 |mysql –host=h2 -uroot -proot db2</pre><br>将h1服务器中的db1数据库的所有数据导入到h2中的db2数据库中，db2的数据库必须存在否则会报错</p>
<p><pre class="lang:default decode:true ">mysqldump –host=192.168.80.137 -uroot -proot -C –databases test |mysql –host=192.168.80.133 -uroot -proot test</pre><br>加上-C参数可以启用压缩传递。</p>
<p>8. 将主库的binlog位置和文件名追加到导出数据的文件中，–dump-slave<br>该参数在在从服务器上执行，相当于执行show slave status。当设置为1时，将会以CHANGE MASTER命令输出到数据文件；设置为2时，会在change前加上注释。<br>该选项将会打开–lock-all-tables，除非–single-transaction被指定。<br>在执行完后会自动关闭–lock-tables选项。–dump-slave默认是1</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -proot –dump-slave=1 –database db1 &gt;/tmp/db1.sql<br>mysqldump -uroot -proot –dump-slave=2 –database db1 &gt;/tmp/db1.sql</pre><br>9. 将当前服务器的binlog的位置和文件名追加到输出文件，–master-data<br>改参数和–dump-slave方法一样，只是它是记录的是当前服务器的binlog，相当于执行show master status。</p>
<p>10. –opt<br>等同于–add-drop-table, –add-locks, –create-options, –quick, –extended-insert, –lock-tables, –set-charset, –disable-keys 该选项默认开启, 可以用–skip-opt禁用.</p>
<p><pre class="lang:default decode:true ">mysqldump -uroot -p –host=localhost –all-databases –opt</pre><br>11. 保证导出的一致性状态–single-transaction<br>该选项在导出数据之前提交一个BEGIN SQL语句，BEGIN 不会阻塞任何应用程序且能保证导出时数据库的一致性状态。它只适用于多版本存储引擎（它不显示加锁通过判断版本来对比数据），仅InnoDB。本选项和–lock-tables 选项是互斥的，因为LOCK TABLES 会使任何挂起的事务隐含提交。要想导出大表的话，应结合使用–quick 选项。<br>–quick, -q<br>不缓冲查询，直接导出到标准输出。默认为打开状态，使用–skip-quick取消该选项。</p>
<p>12. –lock-tables, -l<br>开始导出前，锁定所有表。用READ LOCAL锁定表以允许MyISAM表并行插入。对于支持事务的表例如InnoDB和BDB，–single-transaction是一个更好的选择，因为它根本不需要锁定表。</p>
<p>请注意当导出多个数据库时，–lock-tables分别为每个数据库锁定表。因此，该选项不能保证导出文件中的表在数据库之间的逻辑一致性。不同数据库表的导出状态可以完全不同。</p>
<p>13. 导出存储过程和自定义函数–routines, -R</p>
<p><pre class="lang:default decode:true ">mysqldump  -uroot -p –host=localhost –all-databases –routines</pre><br>参数说明:</p>
<p><pre class="lang:default decode:true ">–all-databases  , -A<br>导出全部数据库。<br>mysqldump  -uroot -p –all-databases<br>–all-tablespaces  , -Y<br>导出全部表空间。<br>mysqldump  -uroot -p –all-databases –all-tablespaces<br>–no-tablespaces  , -y<br>不导出任何表空间信息。<br>mysqldump  -uroot -p –all-databases –no-tablespaces<br>–add-drop-database<br>每个数据库创建之前添加drop数据库语句。<br>mysqldump  -uroot -p –all-databases –add-drop-database<br>–add-drop-table<br>每个数据表创建之前添加drop数据表语句。(默认为打开状态，使用–skip-add-drop-table取消选项)<br>mysqldump  -uroot -p –all-databases  (默认添加drop语句)<br>mysqldump  -uroot -p –all-databases –skip-add-drop-table  (取消drop语句)<br>–add-locks<br>在每个表导出之前增加LOCK TABLES并且之后UNLOCK  TABLE。(默认为打开状态，使用–skip-add-locks取消选项)<br>mysqldump  -uroot -p –all-databases  (默认添加LOCK语句)<br>mysqldump  -uroot -p –all-databases –skip-add-locks   (取消LOCK语句)<br>–allow-keywords<br>允许创建是关键词的列名字。这由表名前缀于每个列名做到。<br>mysqldump  -uroot -p –all-databases –allow-keywords<br>–apply-slave-statements<br>在’CHANGE MASTER’前添加’STOP SLAVE’，并且在导出的最后添加’START SLAVE’。<br>mysqldump  -uroot -p –all-databases –apply-slave-statements<br>–character-sets-dir<br>字符集文件的目录<br>mysqldump  -uroot -p –all-databases  –character-sets-dir=/usr/local/mysql/share/mysql/charsets<br>–comments<br>附加注释信息。默认为打开，可以用–skip-comments取消<br>mysqldump  -uroot -p –all-databases  (默认记录注释)<br>mysqldump  -uroot -p –all-databases –skip-comments   (取消注释)<br>–compatible<br>导出的数据将和其它数据库或旧版本的MySQL 相兼容。值可以为ansi、mysql323、mysql40、postgresql、oracle、mssql、db2、maxdb、no_key_options、no_tables_options、no_field_options等，<br>要使用几个值，用逗号将它们隔开。它并不保证能完全兼容，而是尽量兼容。<br>mysqldump  -uroot -p –all-databases –compatible=ansi<br>–compact<br>导出更少的输出信息(用于调试)。去掉注释和头尾等结构。可以使用选项：–skip-add-drop-table  –skip-add-locks –skip-comments –skip-disable-keys<br>mysqldump  -uroot -p –all-databases –compact<br>–complete-insert,  -c<br>使用完整的insert语句(包含列名称)。这么做能提高插入效率，但是可能会受到max_allowed_packet参数的影响而导致插入失败。<br>mysqldump  -uroot -p –all-databases –complete-insert<br>–compress, -C<br>在客户端和服务器之间启用压缩传递所有信息<br>mysqldump  -uroot -p –all-databases –compress<br>–create-options,  -a<br>在CREATE TABLE语句中包括所有MySQL特性选项。(默认为打开状态)<br>mysqldump  -uroot -p –all-databases<br>–databases,  -B<br>导出几个数据库。参数后面所有名字参量都被看作数据库名。<br>mysqldump  -uroot -p –databases test mysql<br>–debug<br>输出debug信息，用于调试。默认值为：d:t,/tmp/mysqldump.trace<br>mysqldump  -uroot -p –all-databases –debug<br>mysqldump  -uroot -p –all-databases –debug=” d:t,/tmp/debug.trace”<br>–debug-check<br>检查内存和打开文件使用说明并退出。<br>mysqldump  -uroot -p –all-databases –debug-check<br>–debug-info<br>输出调试信息并退出<br>mysqldump  -uroot -p –all-databases –debug-info<br>–default-character-set<br>设置默认字符集，默认值为utf8<br>mysqldump  -uroot -p –all-databases –default-character-set=utf8<br>–delayed-insert<br>采用延时插入方式（INSERT DELAYED）导出数据<br>mysqldump  -uroot -p –all-databases –delayed-insert<br>–delete-master-logs<br>master备份后删除日志. 这个参数将自动激活–master-data。<br>mysqldump  -uroot -p –all-databases –delete-master-logs<br>–disable-keys<br>对于每个表，用/<em>!40000 ALTER TABLE tbl_name DISABLE KEYS </em>/;和/<em>!40000 ALTER TABLE tbl_name ENABLE KEYS </em>/;语句引用INSERT语句。这样可以更快地导入dump出来的文件，因为它是在插入所有行后创建索引的。该选项只适合MyISAM表，默认为打开状态。<br>mysqldump  -uroot -p –all-databases<br>–dump-slave<br>该选项将主的binlog位置和文件名追加到导出数据的文件中(show slave status)。设置为1时，将会以CHANGE MASTER命令输出到数据文件；设置为2时，会在change前加上注释。该选项将会打开–lock-all-tables，除非–single-transaction被指定。该选项会自动关闭–lock-tables选项。默认值为0。<br>mysqldump  -uroot -p –all-databases –dump-slave=1<br>mysqldump  -uroot -p –all-databases –dump-slave=2</pre></p>
<p>–master-data<br>该选项将当前服务器的binlog的位置和文件名追加到输出文件中(show master status)。如果为1，将会输出CHANGE MASTER 命令；如果为2，输出的CHANGE  MASTER命令前添加注释信息。该选项将打开–lock-all-tables 选项，除非–single-transaction也被指定（在这种情况下，全局读锁在开始导出时获得很短的时间；其他内容参考下面的–single-transaction选项）。该选项自动关闭–lock-tables选项。<br>mysqldump  -uroot -p –host=localhost –all-databases –master-data=1;<br>mysqldump  -uroot -p –host=localhost –all-databases –master-data=2;</p>
<p>–events, -E<br>导出事件。<br>mysqldump  -uroot -p –all-databases –events<br>–extended-insert,  -e<br>使用具有多个VALUES列的INSERT语法。这样使导出文件更小，并加速导入时的速度。默认为打开状态，使用–skip-extended-insert取消选项。<br>mysqldump  -uroot -p –all-databases<br>mysqldump  -uroot -p –all-databases–skip-extended-insert   (取消选项)<br>–fields-terminated-by<br>导出文件中忽略给定字段。与–tab选项一起使用，不能用于–databases和–all-databases选项<br>mysqldump  -uroot -p test test –tab=”/home/mysql” –fields-terminated-by=”#”<br>–fields-enclosed-by<br>输出文件中的各个字段用给定字符包裹。与–tab选项一起使用，不能用于–databases和–all-databases选项<br>mysqldump  -uroot -p test test –tab=”/home/mysql” –fields-enclosed-by=”#”<br>–fields-optionally-enclosed-by<br>输出文件中的各个字段用给定字符选择性包裹。与–tab选项一起使用，不能用于–databases和–all-databases选项<br>mysqldump  -uroot -p test test –tab=”/home/mysql”  –fields-enclosed-by=”#” –fields-optionally-enclosed-by  =”#”<br>–fields-escaped-by<br>输出文件中的各个字段忽略给定字符。与–tab选项一起使用，不能用于–databases和–all-databases选项<br>mysqldump  -uroot -p mysql user –tab=”/home/mysql” –fields-escaped-by=”#”<br>–flush-logs<br>开始导出之前刷新日志。<br>请注意：假如一次导出多个数据库(使用选项–databases或者–all-databases)，将会逐个数据库刷新日志。除使用–lock-all-tables或者–master-data外。在这种情况下，日志将会被刷新一次，相应的所以表同时被锁定。因此，如果打算同时导出和刷新日志应该使用–lock-all-tables 或者–master-data 和–flush-logs。<br>mysqldump  -uroot -p –all-databases –flush-logs<br>–flush-privileges<br>在导出mysql数据库之后，发出一条FLUSH  PRIVILEGES 语句。为了正确恢复，该选项应该用于导出mysql数据库和依赖mysql数据库数据的任何时候。<br>mysqldump  -uroot -p –all-databases –flush-privileges<br>–force<br>在导出过程中忽略出现的SQL错误。<br>mysqldump  -uroot -p –all-databases –force<br>–help<br>显示帮助信息并退出。<br>mysqldump  –help<br>–hex-blob<br>使用十六进制格式导出二进制字符串字段。如果有二进制数据就必须使用该选项。影响到的字段类型有BINARY、VARBINARY、BLOB。<br>mysqldump  -uroot -p –all-databases –hex-blob<br>–host, -h<br>需要导出的主机信息<br>mysqldump  -uroot -p –host=localhost –all-databases<br>–ignore-table<br>不导出指定表。指定忽略多个表时，需要重复多次，每次一个表。每个表必须同时指定数据库和表名。例如：–ignore-table=database.table1 –ignore-table=database.table2 ……<br>mysqldump  -uroot -p –host=localhost –all-databases –ignore-table=mysql.user<br>–include-master-host-port<br>在–dump-slave产生的’CHANGE  MASTER TO..’语句中增加’MASTER_HOST=&lt;host&gt;，MASTER_PORT=&lt;port&gt;’<br>mysqldump  -uroot -p –host=localhost –all-databases –include-master-host-port<br>–insert-ignore<br>在插入行时使用INSERT IGNORE语句.<br>mysqldump  -uroot -p –host=localhost –all-databases –insert-ignore<br>–lines-terminated-by<br>输出文件的每行用给定字符串划分。与–tab选项一起使用，不能用于–databases和–all-databases选项。<br>mysqldump  -uroot -p –host=localhost test test –tab=”/tmp/mysql”  –lines-terminated-by=”##”<br>–lock-all-tables,  -x<br>提交请求锁定所有数据库中的所有表，以保证数据的一致性。这是一个全局读锁，并且自动关闭–single-transaction 和–lock-tables 选项。<br>mysqldump  -uroot -p –host=localhost –all-databases –lock-all-tables<br>–lock-tables,  -l<br>开始导出前，锁定所有表。用READ  LOCAL锁定表以允许MyISAM表并行插入。对于支持事务的表例如InnoDB和BDB，–single-transaction是一个更好的选择，因为它根本不需要锁定表。<br>请注意当导出多个数据库时，–lock-tables分别为每个数据库锁定表。因此，该选项不能保证导出文件中的表在数据库之间的逻辑一致性。不同数据库表的导出状态可以完全不同。<br>mysqldump  -uroot -p –host=localhost –all-databases –lock-tables<br>–log-error<br>附加警告和错误信息到给定文件<br>mysqldump  -uroot -p –host=localhost –all-databases  –log-error=/tmp/mysqldump_error_log.err<br>–max_allowed_packet<br>服务器发送和接受的最大包长度。<br>mysqldump  -uroot -p –host=localhost –all-databases –max_allowed_packet=10240<br>–net_buffer_length<br>TCP/IP和socket连接的缓存大小。<br>mysqldump  -uroot -p –host=localhost –all-databases –net_buffer_length=1024<br>–no-autocommit<br>使用autocommit/commit 语句包裹表。<br>mysqldump  -uroot -p –host=localhost –all-databases –no-autocommit<br>–no-create-db,  -n<br>只导出数据，而不添加CREATE DATABASE 语句。<br>mysqldump  -uroot -p –host=localhost –all-databases –no-create-db<br>–no-create-info,  -t<br>只导出数据，而不添加CREATE TABLE 语句。<br>mysqldump  -uroot -p –host=localhost –all-databases –no-create-info<br>–no-data, -d<br>不导出任何数据，只导出数据库表结构。<br>mysqldump  -uroot -p –host=localhost –all-databases –no-data<br>–no-set-names,  -N<br>等同于–skip-set-charset<br>mysqldump  -uroot -p –host=localhost –all-databases –no-set-names<br>–opt<br>等同于–add-drop-table,  –add-locks, –create-options, –quick, –extended-insert, –lock-tables,  –set-charset, –disable-keys 该选项默认开启,  可以用–skip-opt禁用.<br>mysqldump  -uroot -p –host=localhost –all-databases –opt<br>–order-by-primary<br>如果存在主键，或者第一个唯一键，对每个表的记录进行排序。在导出MyISAM表到InnoDB表时有效，但会使得导出工作花费很长时间。<br>mysqldump  -uroot -p –host=localhost –all-databases –order-by-primary<br>–password, -p<br>连接数据库密码<br>–pipe(windows系统可用)<br>使用命名管道连接mysql<br>mysqldump  -uroot -p –host=localhost –all-databases –pipe<br>–port, -P<br>连接数据库端口号<br>–protocol<br>使用的连接协议，包括：tcp, socket, pipe, memory.<br>mysqldump  -uroot -p –host=localhost –all-databases –protocol=tcp<br>–quick, -q<br>不缓冲查询，直接导出到标准输出。默认为打开状态，使用–skip-quick取消该选项。<br>mysqldump  -uroot -p –host=localhost –all-databases<br>mysqldump  -uroot -p –host=localhost –all-databases –skip-quick<br>–quote-names,-Q<br>使用（`）引起表和列名。默认为打开状态，使用–skip-quote-names取消该选项。<br>mysqldump  -uroot -p –host=localhost –all-databases<br>mysqldump  -uroot -p –host=localhost –all-databases –skip-quote-names<br>–replace<br>使用REPLACE INTO 取代INSERT INTO.<br>mysqldump  -uroot -p –host=localhost –all-databases –replace<br>–result-file,  -r<br>直接输出到指定文件中。该选项应该用在使用回车换行对（\r\n）换行的系统上（例如：DOS，Windows）。该选项确保只有一行被使用。<br>mysqldump  -uroot -p –host=localhost –all-databases –result-file=/tmp/mysqldump_result_file.txt<br>–routines, -R<br>导出存储过程以及自定义函数。<br>mysqldump  -uroot -p –host=localhost –all-databases –routines<br>–set-charset<br>添加’SET NAMES  default_character_set’到输出文件。默认为打开状态，使用–skip-set-charset关闭选项。<br>mysqldump  -uroot -p –host=localhost –all-databases<br>mysqldump  -uroot -p –host=localhost –all-databases –skip-set-charset<br>–single-transaction<br>该选项在导出数据之前提交一个BEGIN SQL语句，BEGIN 不会阻塞任何应用程序且能保证导出时数据库的一致性状态。它只适用于多版本存储引擎，仅InnoDB。本选项和–lock-tables 选项是互斥的，因为LOCK  TABLES 会使任何挂起的事务隐含提交。要想导出大表的话，应结合使用–quick 选项。<br>mysqldump  -uroot -p –host=localhost –all-databases –single-transaction<br>–dump-date<br>将导出时间添加到输出文件中。默认为打开状态，使用–skip-dump-date关闭选项。<br>mysqldump  -uroot -p –host=localhost –all-databases<br>mysqldump  -uroot -p –host=localhost –all-databases –skip-dump-date<br>–skip-opt<br>禁用–opt选项.<br>mysqldump  -uroot -p –host=localhost –all-databases –skip-opt<br>–socket,-S<br>指定连接mysql的socket文件位置，默认路径/tmp/mysql.sock<br>mysqldump  -uroot -p –host=localhost –all-databases –socket=/tmp/mysqld.sock<br>–tab,-T<br>为每个表在给定路径创建tab分割的文本文件。注意：仅仅用于mysqldump和mysqld服务器运行在相同机器上。<br>mysqldump  -uroot -p –host=localhost test test –tab=”/home/mysql”<br>–tables<br>覆盖–databases (-B)参数，指定需要导出的表名。<br>mysqldump  -uroot -p –host=localhost –databases test –tables test<br>–triggers<br>导出触发器。该选项默认启用，用–skip-triggers禁用它。<br>mysqldump  -uroot -p –host=localhost –all-databases –triggers<br>–tz-utc<br>在导出顶部设置时区TIME_ZONE=’+00:00’ ，以保证在不同时区导出的TIMESTAMP 数据或者数据被移动其他时区时的正确性。<br>mysqldump  -uroot -p –host=localhost –all-databases –tz-utc<br>–user, -u<br>指定连接的用户名。<br>–verbose, –v<br>输出多种平台信息。<br>–version, -V<br>输出mysqldump版本信息并退出<br>–where, -w<br>只转储给定的WHERE条件选择的记录。请注意如果条件包含命令解释符专用空格或字符，一定要将条件引用起来。<br>mysqldump  -uroot -p –host=localhost –all-databases –where=” user=’root’”<br>–xml, -X<br>导出XML格式.<br>mysqldump  -uroot -p –host=localhost –all-databases –xml<br>–plugin_dir<br>客户端插件的目录，用于兼容不同的插件版本。<br>mysqldump  -uroot -p –host=localhost –all-databases –plugin_dir=”/usr/local/lib/plugin”<br>–default_auth<br>客户端插件默认使用权限。<br>mysqldump  -uroot -p –host=localhost –all-databases –default-auth=”/usr/local/lib/plugin/&lt;PLUGIN&gt;”<br>总结<br>文章中列举了一些常用的导出操作，还有很多其它的参数也会经常用到，包括“–add-drop-database”，“–apply-slave-statements”，“–triggers”等。</p>
<blockquote>
<p><em>源文： <a href="http://www.cnblogs.com/chenmh/p/5300370.html" target="_blank" rel="external">http://www.cnblogs.com/chenmh/p/5300370.html</a></em></p>
<p><em>作者： <a href="http://www.cnblogs.com/chenmh/" title="点击跳转到原文" target="_blank" rel="external">pursuer.chen</a></em></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.suzf.net/2016/04/27/MySQL_mysqldump_数据导出详解/" data-id="ciq4n5ji600c87xo9khkzxjrs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mysql/">Mysql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/05/12/839/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Linux 下使用 strace 诊断疑难杂症
        
      </div>
    </a>
  
  
    <a href="/2016/04/24/Python_Re_module_learn/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Python Re module learn</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apache/">Apache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Auto-ops/">Auto ops</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CouchBase/">CouchBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Highcharts/">Highcharts</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Puppet/">Puppet</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a><span class="category-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMD/">CMD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ceph/">Ceph</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/">Debian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Exsi/">Exsi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/">Flask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTID/">GTID</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kernel/">Kernel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kickstart/">Kickstart</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LB/">LB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LVS/">LVS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/">Life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lnmp/">Lnmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log/">Log</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxy/">Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Puppet/">Puppet</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Re/">Re</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZK/">ZK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zabbix/">Zabbix</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coredump/">coredump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/couchbase/">couchbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debug/">debug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diy/">diy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expect/">expect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/facter/">facter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/faq/">faq</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/highcharts/">highcharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idrac/">idrac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iso/">iso</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm/">lvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rewrite/">rewrite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsync/">rsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsyslog/">rsyslog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snmp/">snmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/strace/">strace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sudo/">sudo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcpdump/">tcpdump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/CMD/" style="font-size: 10px;">CMD</a> <a href="/tags/Ceph/" style="font-size: 10.91px;">Ceph</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Flask/" style="font-size: 10px;">Flask</a> <a href="/tags/GTID/" style="font-size: 10.91px;">GTID</a> <a href="/tags/Kernel/" style="font-size: 10.91px;">Kernel</a> <a href="/tags/Kickstart/" style="font-size: 10px;">Kickstart</a> <a href="/tags/LB/" style="font-size: 10px;">LB</a> <a href="/tags/LVS/" style="font-size: 10px;">LVS</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lnmp/" style="font-size: 10px;">Lnmp</a> <a href="/tags/Log/" style="font-size: 10px;">Log</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 19.09px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 16.36px;">Nginx</a> <a href="/tags/NoSQL/" style="font-size: 12.73px;">NoSQL</a> <a href="/tags/Oracle/" style="font-size: 11.82px;">Oracle</a> <a href="/tags/PHP/" style="font-size: 10.91px;">PHP</a> <a href="/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/tags/Puppet/" style="font-size: 14.55px;">Puppet</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/RAC/" style="font-size: 10.91px;">RAC</a> <a href="/tags/Re/" style="font-size: 11.82px;">Re</a> <a href="/tags/ZK/" style="font-size: 10px;">ZK</a> <a href="/tags/Zabbix/" style="font-size: 18.18px;">Zabbix</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/coredump/" style="font-size: 10px;">coredump</a> <a href="/tags/couchbase/" style="font-size: 10px;">couchbase</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/diy/" style="font-size: 10px;">diy</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/expect/" style="font-size: 10px;">expect</a> <a href="/tags/facter/" style="font-size: 10px;">facter</a> <a href="/tags/faq/" style="font-size: 17.27px;">faq</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/highcharts/" style="font-size: 10px;">highcharts</a> <a href="/tags/idrac/" style="font-size: 10px;">idrac</a> <a href="/tags/iso/" style="font-size: 10px;">iso</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/lvm/" style="font-size: 10px;">lvm</a> <a href="/tags/pip/" style="font-size: 12.73px;">pip</a> <a href="/tags/redis/" style="font-size: 15.45px;">redis</a> <a href="/tags/rewrite/" style="font-size: 10px;">rewrite</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/rsyslog/" style="font-size: 10px;">rsyslog</a> <a href="/tags/snmp/" style="font-size: 10px;">snmp</a> <a href="/tags/strace/" style="font-size: 10px;">strace</a> <a href="/tags/sudo/" style="font-size: 10px;">sudo</a> <a href="/tags/tcpdump/" style="font-size: 10px;">tcpdump</a> <a href="/tags/tomcat/" style="font-size: 13.64px;">tomcat</a> <a href="/tags/vim/" style="font-size: 10.91px;">vim</a> <a href="/tags/web/" style="font-size: 12.73px;">web</a> <a href="/tags/wiki/" style="font-size: 10px;">wiki</a> <a href="/tags/zookeeper/" style="font-size: 12.73px;">zookeeper</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/12/839/">Linux 下使用 strace 诊断疑难杂症</a>
          </li>
        
          <li>
            <a href="/2016/04/27/MySQL_mysqldump_数据导出详解/">MySQL mysqldump 数据导出详解</a>
          </li>
        
          <li>
            <a href="/2016/04/24/Python_Re_module_learn/">Python Re module learn</a>
          </li>
        
          <li>
            <a href="/2016/04/22/Python正则表达式操作指南/">Python正则表达式操作指南</a>
          </li>
        
          <li>
            <a href="/2016/04/18/Hello_Kafka/">Hello Kafka</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jeffrey Su<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>