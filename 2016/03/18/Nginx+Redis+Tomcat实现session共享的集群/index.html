<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Nginx+Redis+Tomcat实现session共享的集群 | Suzf Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Nginx 作为目前最流行的开源反向代理HTTP Server，用于实现资源缓存、web server负载均衡等功能，由于其轻量级、高性能、高可靠等特点在互联网项目中有着非常普遍的应用，相关概念网上有丰富的介绍。分布式web server集群部署后需要实现session共享，针对 tomcat 服务器的实现方案多种多样，比如 tomcat cluster session 广播、nginx IP h">
<meta property="og:type" content="article">
<meta property="og:title" content="Nginx+Redis+Tomcat实现session共享的集群">
<meta property="og:url" content="http://blog.suzf.net/2016/03/18/Nginx+Redis+Tomcat实现session共享的集群/index.html">
<meta property="og:site_name" content="Suzf Blog">
<meta property="og:description" content="Nginx 作为目前最流行的开源反向代理HTTP Server，用于实现资源缓存、web server负载均衡等功能，由于其轻量级、高性能、高可靠等特点在互联网项目中有着非常普遍的应用，相关概念网上有丰富的介绍。分布式web server集群部署后需要实现session共享，针对 tomcat 服务器的实现方案多种多样，比如 tomcat cluster session 广播、nginx IP h">
<meta property="og:image" content="http://suzf.net/wp-content/uploads/2016/03/frame-20160121153429_41249.png">
<meta property="og:image" content="http://suzf.net/wp-content/uploads/2016/03/tom1-20160318130409.png">
<meta property="og:image" content="http://suzf.net/wp-content/uploads/2016/03/tom2-20160318130451.png">
<meta property="og:image" content="http://suzf.net/wp-content/uploads/2016/03/redis-20160318130539.png">
<meta property="og:updated_time" content="2016-03-31T12:50:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nginx+Redis+Tomcat实现session共享的集群">
<meta name="twitter:description" content="Nginx 作为目前最流行的开源反向代理HTTP Server，用于实现资源缓存、web server负载均衡等功能，由于其轻量级、高性能、高可靠等特点在互联网项目中有着非常普遍的应用，相关概念网上有丰富的介绍。分布式web server集群部署后需要实现session共享，针对 tomcat 服务器的实现方案多种多样，比如 tomcat cluster session 广播、nginx IP h">
  
    <link rel="alternative" href="/atom.xml" title="Suzf Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Suzf Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Life is short, We need smile.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.suzf.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Nginx+Redis+Tomcat实现session共享的集群" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/18/Nginx+Redis+Tomcat实现session共享的集群/" class="article-date">
  <time datetime="2016-03-18T06:56:32.000Z" itemprop="datePublished">2016-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Nginx+Redis+Tomcat实现session共享的集群
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Nginx 作为目前最流行的开源反向代理HTTP Server，用于实现资源缓存、web server负载均衡等功能，由于其轻量级、高性能、高可靠等特点在互联网项目中有着非常普遍的应用，相关概念网上有丰富的介绍。分布式web server集群部署后需要实现session共享，针对 tomcat 服务器的实现方案多种多样，比如 tomcat cluster session 广播、nginx IP hash策略、nginx sticky module等方案，本文主要介绍了使用 redis 服务器进行 session 统一存储管理的共享方案。</p>
<p>使 用Nginx作为Tomcat的负载平衡器，Tomcat的会话Session数据存储在Redis，能够实现0当机的7×24运营效果。因为将会话存储 在Redis中，因此Nginx就不必配置成stick粘粘某个Tomcat方式，这样才能真正实现后台多个Tomcat负载平衡，用户请求能够发往任何 一个tomcat主机，当我们需要部署新应用代码时，只要停止任何一台tomcat，所有当前在线用户都会导向到运行中的tomcat实例，因为会话数据 被序列化到Redis，在线用户不会受到影响，一旦停掉的tomcat实例上线，另外其他重复部署过程。<a id="more"></a></p>
<p><a href="http://suzf.net/wp-content/uploads/2016/03/frame-20160121153429_41249.png" target="_blank" rel="external"><img src="http://suzf.net/wp-content/uploads/2016/03/frame-20160121153429_41249.png" alt="frame-20160121153429_41249"></a><br><strong>实验环境</strong></p>
<p><pre class="lang:default decode:true">      IP            Roles               port</pre></p>
<p>node1 192.168.9.10  nginx,redis,tomcat  80,1111,8080</p>
<p>node2 192.168.9.70  tomcat              8080<br><strong>软件工具包</strong><br>apache-tomcat-7.0.68.tar<br>redis-3.0.7.tar<br>jdk-7u79-linux-x64.rpm<br>nginx-1.0.15-12.el6.x86_64.rpm</p>
<p><strong>tomcat需要的jar包</strong><br>commons-logging-1.1.3.jar<br>commons-pool2-2.2.jar<br>jedis-2.5.2.jar<br>tomcat-juli.jar<br>tomcat-redis-session-manage-tomcat7.jar<br><strong>安装redis</strong></p>
<ol>
<li>Redis 安装<br>== Redis 源码安装<br>— 参照源码 README<br>— 默认端口 6379</li>
</ol>
<p><strong><em> 安装redis之前先要确认系统已经安装了GCC和libc库 </em></strong></p>
<p><pre class="lang:default decode:true ">wget <a href="http://download.redis.io/releases/redis-3.0.7.tar.gz" target="_blank" rel="external">http://download.redis.io/releases/redis-3.0.7.tar.gz</a><br>tar xf redis-3.0.7.tar.gz<br>cd redis-3.0.7<br>make</pre></p>
<h1 id="make_test"><a href="#make_test" class="headerlink" title="make test"></a>make test</h1><p>make PREFIX=/usr/local/redis install<br>&nbsp;</p>
<p>== 可执行命令</p>
<p><pre class="lang:default decode:true ">redis-server    Redis服务系统<br>redis-cli       Redis一个客户端管理工具<br>redis-benchmark 用来检测redis性能<br>redis-check-aof &amp; redis-check-dump 用来处理损坏的数据文件<br>redis-sentinel -&gt; redis-server   &lt; soft link &gt;</pre></p>
<p>cd utils<br>./install_server.sh</p>
<p>^_^[15:50:34][root@master01 utils]#bash install_server.sh<br>Welcome to the redis service installer<br>This script will help you easily set up a running redis server</p>
<p>Please select the redis port for this instance: [6379] 1111<br>Please select the redis config file name [/etc/redis/1111.conf]<br>Selected default – /etc/redis/1111.conf<br>Please select the redis log file name [/var/log/redis_1111.log]<br>Selected default – /var/log/redis_1111.log<br>Please select the data directory for this instance [/var/lib/redis/1111]<br>Selected default – /var/lib/redis/1111<br>Please select the redis executable path [/usr/sbin/redis-server] /usr/local/redis/bin/redis-server<br>Selected config:<br>Port           : 1111<br>Config file    : /etc/redis/1111.conf<br>Log file       : /var/log/redis_1111.log<br>Data dir       : /var/lib/redis/1111<br>Executable     : /usr/local/redis/bin/redis-server<br>Cli Executable : /usr/bin/redis-cli<br>Is this ok? Then press ENTER to go on or Ctrl-C to abort.<br>Copied /tmp/1111.conf =&gt; /etc/init.d/redis_1111<br>Installing service…<br>Successfully added to chkconfig!<br>Successfully added to runlevels 345!<br>Starting Redis server…<br>Installation successful!<br>&nbsp;</p>
<p>Redis 系统配置</p>
<p><pre class="lang:default decode:true">echo “vm.overcommit_memory = 1” &gt;&gt; /etc/sysctl.conf<br>sysctl vm.overcommit_memory=1<br>echo 511 &gt; /proc/sys/net/core/somaxconn</pre><br>启动服务</p>
<p>/etc/init.d/redis_1111 start</p>
<p>配置文件可以用默认的配置，从服务器上配置文文件打开slavefo 加上主服务器的ip和端口，还有其他的参数如日志和dump.rdb保存路径可以适当修改</p>
<p>FAQ:</p>
<p>make时如果有类似如下报错：<br>Selecting a non-default memory allocator when building Redis is done by setting<br>the <code>[MALLOC](https://www.baidu.com/s?wd=MALLOC&amp;amp;tn=44039180_cpr&amp;amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLPvnvnHIWuHTYnvPWP1mL0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6K1TL0qnfK1TL0z5HD0IgF_5y9YIZ0lQzqlpA-bmyt8mh7GuZR8mvqVQL7dugPYpyq8Q1csP1RvnjcdPHnYP1nzPjDzPW6)</code> environment variable. Redis is compiled and linked against libc<br><a href="https://www.baidu.com/s?wd=malloc&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLPvnvnHIWuHTYnvPWP1mL0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6K1TL0qnfK1TL0z5HD0IgF_5y9YIZ0lQzqlpA-bmyt8mh7GuZR8mvqVQL7dugPYpyq8Q1csP1RvnjcdPHnYP1nzPjDzPW6" target="_blank" rel="external">malloc</a> by default, with the exception of je<a href="https://www.baidu.com/s?wd=malloc&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1YLPvnvnHIWuHTYnvPWP1mL0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6K1TL0qnfK1TL0z5HD0IgF_5y9YIZ0lQzqlpA-bmyt8mh7GuZR8mvqVQL7dugPYpyq8Q1csP1RvnjcdPHnYP1nzPjDzPW6" target="_blank" rel="external">malloc</a> being the default on Linux<br>systems. This default was picked because jemalloc has proven to have fewer<br>fragmentation problems than libc malloc.</p>
<p>make MALLOC=libc<br><strong>安装 JDK and Tomcat</strong></p>
<p><pre class="lang:default decode:true"># wget -c –header “Cookie: oraclelicense=accept-securebackup-cookie” <code>curl -s http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html | awk -F&#39;&quot;&#39; &#39;/jdk\-7.*\-linux\-x64.rpm/{print $12;exit}&#39;</code></pre></p>
<h1 id="rpm_-ivh_jdk-7u79-linux-x64-rpm"><a href="#rpm_-ivh_jdk-7u79-linux-x64-rpm" class="headerlink" title="rpm -ivh jdk-7u79-linux-x64.rpm"></a>rpm -ivh jdk-7u79-linux-x64.rpm</h1><h1 id="cat__26gt_3B_/etc/profile-d/java-sh__26lt_3B_26lt_3B_EOF"><a href="#cat__26gt_3B_/etc/profile-d/java-sh__26lt_3B_26lt_3B_EOF" class="headerlink" title="cat &gt; /etc/profile.d/java.sh &lt;&lt; EOF"></a>cat &gt; /etc/profile.d/java.sh &lt;&lt; EOF</h1><p>JAVA_HOME=/usr/java/latest</p>
<p>PATH=\$JAVA_HOME/bin:\$PATH</p>
<p>export JAVA_HOME PATH</p>
<p>EOF</p>
<h1 id="wget_-c_curl_-s__26quot_3Bhttps_3A//tomcat-apache-org/download-70-cgi_26quot_3B__7C_awk_-F_26_2339_3B_26quot_3B_26_2339_3B__26_2339_3B/apache_5C-tomcat_5C-7-*-tar-gz/_7Bprint__242_3Bexit_7D_26_2339_3B"><a href="#wget_-c_curl_-s__26quot_3Bhttps_3A//tomcat-apache-org/download-70-cgi_26quot_3B__7C_awk_-F_26_2339_3B_26quot_3B_26_2339_3B__26_2339_3B/apache_5C-tomcat_5C-7-*-tar-gz/_7Bprint__242_3Bexit_7D_26_2339_3B" class="headerlink" title="wget -c curl -s &quot;https://tomcat.apache.org/download-70.cgi&quot; | awk -F&#39;&quot;&#39; &#39;/apache\-tomcat\-7.*.tar.gz/{print $2;exit}&#39;"></a>wget -c <code>curl -s &quot;https://tomcat.apache.org/download-70.cgi&quot; | awk -F&#39;&quot;&#39; &#39;/apache\-tomcat\-7.*.tar.gz/{print $2;exit}&#39;</code></h1><h1 id="tar_xf_apache-tomcat-7-*-tar-gz_-C_/usr/local/"><a href="#tar_xf_apache-tomcat-7-*-tar-gz_-C_/usr/local/" class="headerlink" title="tar xf apache-tomcat-7.*.tar.gz -C /usr/local/"></a>tar xf apache-tomcat-7.*.tar.gz -C /usr/local/</h1><h1 id="ln_-sv_/usr/local/apache-tomcat-7-*_/usr/local/tomcat"><a href="#ln_-sv_/usr/local/apache-tomcat-7-*_/usr/local/tomcat" class="headerlink" title="ln -sv /usr/local/apache-tomcat-7.* /usr/local/tomcat"></a>ln -sv /usr/local/apache-tomcat-7.* /usr/local/tomcat</h1><h1 id="cat__26gt_3B_/etc/profile-d/tomcat-sh__26lt_3B_26lt_3B_EOF"><a href="#cat__26gt_3B_/etc/profile-d/tomcat-sh__26lt_3B_26lt_3B_EOF" class="headerlink" title="cat &gt; /etc/profile.d/tomcat.sh &lt;&lt; EOF"></a>cat &gt; /etc/profile.d/tomcat.sh &lt;&lt; EOF</h1><p>export CATALINA_HOME=/usr/local/tomcat</p>
<p>export PATH=\$CATALINA_HOME/bin:\$PATH</p>
<p>EOF</p>
<h1 id="source_/etc/profile-d/java-sh"><a href="#source_/etc/profile-d/java-sh" class="headerlink" title="source /etc/profile.d/java.sh"></a>source /etc/profile.d/java.sh</h1><h1 id="source_/etc/profile-d/tomcat-sh"><a href="#source_/etc/profile-d/tomcat-sh" class="headerlink" title="source /etc/profile.d/tomcat.sh"></a>source /etc/profile.d/tomcat.sh</h1><h1 id="catalina-sh_version"><a href="#catalina-sh_version" class="headerlink" title="catalina.sh version"></a>catalina.sh version</h1><p>Using CATALINA_BASE:   /usr/local/tomcat</p>
<p>Using CATALINA_HOME:   /usr/local/tomcat</p>
<p>Using CATALINA_TMPDIR: /usr/local/tomcat/temp</p>
<p>Using JRE_HOME:        /usr/java/latest</p>
<p>Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar</p>
<p>Server version: Apache Tomcat/7.0.68</p>
<p>Server built:   Feb 8 2016 20:25:54 UTC</p>
<p>Server number:  7.0.68.0</p>
<p>OS Name:        Linux</p>
<p>OS Version:     2.6.32-573.8.1.el6.x86_64</p>
<p>Architecture:   amd64</p>
<p>JVM Version:    1.7.0_79-b15</p>
<p>JVM Vendor:     Oracle Corporation<br>&nbsp;</p>
<p><strong><em> 将jar包全都拷进tomcat lib目录下 </em></strong></p>
<p><pre class="lang:default decode:true ">^<em>^[14:43:41][root@master01 lib]#pwd<br>/usr/local/tomcat/lib<br>^</em>^[14:44:47][root@master01 lib]#ls -lth | tail -5<br>-rw-r–r– 1 root root  61K Nov 13 15:18 commons-logging-1.1.3.jar<br>-rw-r–r– 1 root root 106K Nov 13 15:18 commons-pool2-2.2.jar<br>-rw-r–r– 1 root root 308K Nov 13 15:18 jedis-2.5.2.jar<br>-rw-r–r– 1 root root  74K Nov 13 15:18 tomcat-juli.jar<br>-rw-r–r– 1 root root  20K Nov 13 15:18 tomcat-redis-session-manage-tomcat7.jar</pre><br>修改conf目录下context.xml配置文件，session共享保存设置<br>在&lt;Context&gt;标签中</p>
<p><pre class="lang:default decode:true ">&lt;Valve className=”com.orangefunction.tomcat.redissessions.RedisSessionHandlerValve” /&gt;<br>&lt;Manager className=”com.orangefunction.tomcat.redissessions.RedisSessionManager”<br>host=”192.168.9.10”<br>port=”1111”<br>database=”0”<br>maxInactiveInterval=”60”/&gt;</pre><br>添加测试页</p>
<p><pre class="lang:default decode:true ">vim webapps/ROOT/test.jsp</pre></p>
<p>&lt;%@ page language=”java” %&gt;</p>
<p>&lt;html&gt;</p>
<p>  &lt;head&gt;&lt;title&gt;TomcatI&lt;/title&gt;&lt;/head&gt;</p>
<p>  &lt;body&gt;</p>
<pre><code>&amp;lt;h1&amp;gt;&amp;lt;font color=&quot;green&quot;&amp;gt;TomcatI.suzf.net&amp;lt;/font&amp;gt;&amp;lt;/h1&amp;gt;

&amp;lt;table align=&quot;centre&quot; border=&quot;1&quot;&amp;gt;

  &amp;lt;tr&amp;gt;

    &amp;lt;td&amp;gt;Session ID&amp;lt;/td&amp;gt;

&amp;lt;% session.setAttribute(&quot;tomcat.suzf.net&quot;,&quot;tomcat.suzf.net&quot;); %&amp;gt;

    &amp;lt;td&amp;gt;&amp;lt;%= session.getId() %&amp;gt;&amp;lt;/td&amp;gt;

  &amp;lt;/tr&amp;gt;

  &amp;lt;tr&amp;gt;

    &amp;lt;td&amp;gt;Created on&amp;lt;/td&amp;gt;

    &amp;lt;td&amp;gt;&amp;lt;%= session.getCreationTime() %&amp;gt;&amp;lt;/td&amp;gt;

 &amp;lt;/tr&amp;gt;

&amp;lt;/table&amp;gt;
</code></pre><p>  &lt;/body&gt;</p>
<p>&lt;/html&gt;<br>将tomcat目录拷贝到其他tomcat服务器<br>将测试页代码 Titile 和 color 修改下，以作区分。</p>
<p><strong>Nginx安装</strong></p>
<p><pre class="lang:default decode:true ">yum install nginx -y </pre></p>
<p>Nginx 相关配置</p>
<h1 id="grep_-v__u201C_5E_24_7C_5E-*_23_u201D_/etc/nginx/nginx-conf"><a href="#grep_-v__u201C_5E_24_7C_5E-*_23_u201D_/etc/nginx/nginx-conf" class="headerlink" title="grep -v “^$|^.*#”  /etc/nginx/nginx.conf"></a>grep -v “^$|^.*#”  /etc/nginx/nginx.conf</h1><p>user              nginx;<br>worker_processes  1;<br>error_log  /var/log/nginx/error.log;<br>pid        /var/run/nginx.pid;</p>
<p>events {</p>
<pre><code>worker_connections  1024;
</code></pre><p>}</p>
<p>http {</p>
<pre><code>include       /etc/nginx/mime.types;
default_type  application/octet-stream;
log_format  main  &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos;

                  &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;

                  &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;

upstream suzf-net-tomcat {

   server 192.168.9.10:8080;
   server 192.168.9.70:8080;

}

server {

    listen 80;
    server_name tomcat.suzf.net;

    location / {

         index   index.jsp index.html index.htm;
         proxy_pass http://suzf-net-tomcat;
         proxy_redirect off;
         proxy_set_header Host $host;
         proxy_set_header X-Real-IP $remote_addr;
         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

    }

}

access_log  /var/log/nginx/access.log  main;
sendfile        on;
server_tokens   off;
keepalive_timeout  65;

include /etc/nginx/conf.d/*.conf;
</code></pre><p>}<br>&nbsp;</p>
<p>检测nginx 配置文件 &amp; 重载配置文件</p>
<p><pre class="lang:default decode:true">#/etc/init.d/nginx configtest </pre></p>
<p>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</p>
<p>nginx: configuration file /etc/nginx/nginx.conf test is successful</p>
<p>#/etc/init.d/nginx  reload</p>
<p>Reloading nginx:                                           [  OK  ]<br><strong>浏览器验证：</strong></p>
<p><a href="http://suzf.net/wp-content/uploads/2016/03/tom1-20160318130409.png" target="_blank" rel="external"><img src="http://suzf.net/wp-content/uploads/2016/03/tom1-20160318130409.png" alt="tom1-20160318130409"></a></p>
<p><a href="http://suzf.net/wp-content/uploads/2016/03/tom2-20160318130451.png" target="_blank" rel="external"><img src="http://suzf.net/wp-content/uploads/2016/03/tom2-20160318130451.png" alt="tom2-20160318130451"></a></p>
<p>&nbsp;</p>
<p><strong> 查看Redis 数据</strong></p>
<p><a href="http://suzf.net/wp-content/uploads/2016/03/redis-20160318130539.png" target="_blank" rel="external"><img src="http://suzf.net/wp-content/uploads/2016/03/redis-20160318130539.png" alt="redis-20160318130539"></a></p>
<p>&nbsp;</p>
<p><strong>通过 tomcat-redis-session-manager  自动获取tomcat 所需 jar 包  </strong></p>
<p><strong>*</strong> 未测 <strong>* </strong></p>
<p>tomcat-redis-session-manager 是一个用来将 Tomcat 的 Session 数据存储在 Redis 库中的项目。</p>
<p>官网：<a href="https://github.com/jcoleman/tomcat-redis-session-manager" target="_blank" rel="external">https://github.com/jcoleman/tomcat-redis-session-manager</a></p>
<p><strong><em> 由于源码构建基于 gradle，请先配置 gradle 环境。</em></strong></p>
<p><pre class="lang:default decode:true">wget <a href="https://downloads.gradle.org/distributions/gradle-2.10-all.zip" target="_blank" rel="external">https://downloads.gradle.org/distributions/gradle-2.10-all.zip</a></pre></p>
<p>unzip -q gradle-2.10-all.zip -d /usr/local/</p>
<p>ln -sv /usr/local/gradle-2.10 /usr/local/gradle</p>
<p>#echo “export PATH=/usr/local/gradle/bin:\$PATH” &gt; /etc/profile.d/gradle2.10.sh</p>
<p>#source /etc/profile.d/gradle2.10.sh<br>&nbsp;</p>
<p>安装 tomcat-redis-session-manager</p>
<p><pre class="lang:default decode:true">git clone <a href="https://github.com/jcoleman/tomcat-redis-session-manager.git" target="_blank" rel="external">https://github.com/jcoleman/tomcat-redis-session-manager.git</a></pre></p>
<p>cd tomcat-redis-session-manager/</p>
<p>mv build.gradle build.gradle.bak</p>
<p>vim build.gradle</p>
<p>#diff -ruN build.gradle*</p>
<p>— build.gradle 2016-01-04 07:07:59.000000000 +0800</p>
<p>+++ build.gradle.old 2016-03-18 10:48:15.620704187 +0800</p>
<p>@@ -44,13 +44,8 @@</p>
<p>   archives sourcesJar</p>
<p> }</p>
<p>-//signing {</p>
<p>-//  sign configurations.archives</p>
<p>-//}</p>
<p>-</p>
<p>-task copyJars(type: Copy) {</p>
<ul>
<li><p>from configurations.runtime</p>
</li>
<li><p>into ‘dist’  </p>
</li>
</ul>
<p>+signing {</p>
<ul>
<li><p>sign configurations.archives</p>
<p>}</p>
<p>uploadArchives {</p>
</li>
</ul>
<p>@@ -58,9 +53,9 @@</p>
<pre><code>mavenDeployer {

  beforeDeployment { MavenDeployment deployment -&amp;gt; signing.signPom(deployment) }
</code></pre><ul>
<li><p>//repository(url: “<a href="https://oss.sonatype.org/service/local/staging/deploy/maven2/" target="_blank" rel="external">https://oss.sonatype.org/service/local/staging/deploy/maven2/</a>“) {</p>
</li>
<li><p>//  authentication(userName: sonatypeUsername, password: sonatypePassword)</p>
</li>
<li><p>//}</p>
</li>
</ul>
<ul>
<li><p>repository(url: “<a href="https://oss.sonatype.org/service/local/staging/deploy/maven2/" target="_blank" rel="external">https://oss.sonatype.org/service/local/staging/deploy/maven2/</a>“) {</p>
</li>
<li><p>authentication(userName: sonatypeUsername, password: sonatypePassword)</p>
</li>
<li><p>}</p>
<p>//repository(url: “<a href="https://oss.sonatype.org/content/repositories/snapshots" target="_blank" rel="external">https://oss.sonatype.org/content/repositories/snapshots</a>“) {</p>
<p>//  authentication(userName: sonatypeUsername, password: sonatypePassword)</p>
<p>//}</p>
</li>
</ul>
<p>@@ -101,4 +96,4 @@</p>
<pre><code>  }

}
</code></pre><p>   }</p>
<p>-}</p>
<p>\ No newline at end of file</p>
<p>+}</p>
<h1 id="gradle_build_-x_test_copyJars"><a href="#gradle_build_-x_test_copyJars" class="headerlink" title="gradle build -x test copyJars"></a>gradle build -x test copyJars</h1><h1 id="mkdir_/tmp/jar"><a href="#mkdir_/tmp/jar" class="headerlink" title="mkdir /tmp/jar"></a>mkdir /tmp/jar</h1><h1 id="cp_-a_build/libs/-jar_/tmp/jar/__26amp_3B_26amp_3B_cp_-a_dist/-jar_/tmp/jar/"><a href="#cp_-a_build/libs/-jar_/tmp/jar/__26amp_3B_26amp_3B_cp_-a_dist/-jar_/tmp/jar/" class="headerlink" title="cp -a build/libs/.jar /tmp/jar/ &amp;&amp; cp -a dist/.jar /tmp/jar/"></a>cp -a build/libs/<em>.jar /tmp/jar/ &amp;&amp; cp -a dist/</em>.jar /tmp/jar/</h1><p>最后将 jar 包 分发到tomcat 项目中</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.suzf.net/2016/03/18/Nginx+Redis+Tomcat实现session共享的集群/" data-id="ciq4n5jhf00bu7xo9yhpxsgjh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis/">redis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tomcat/">tomcat</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/03/21/Redis_常用命令总结/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Redis 常用命令总结
        
      </div>
    </a>
  
  
    <a href="/2016/03/17/redis-sentinel-test/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Redis Sentinel Test</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apache/">Apache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Auto-ops/">Auto ops</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CouchBase/">CouchBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Highcharts/">Highcharts</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Puppet/">Puppet</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a><span class="category-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMD/">CMD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ceph/">Ceph</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/">Debian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Exsi/">Exsi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/">Flask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTID/">GTID</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kernel/">Kernel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kickstart/">Kickstart</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LB/">LB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LVS/">LVS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/">Life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lnmp/">Lnmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log/">Log</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxy/">Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Puppet/">Puppet</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Re/">Re</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZK/">ZK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zabbix/">Zabbix</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coredump/">coredump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/couchbase/">couchbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debug/">debug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diy/">diy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expect/">expect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/facter/">facter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/faq/">faq</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/highcharts/">highcharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idrac/">idrac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iso/">iso</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm/">lvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rewrite/">rewrite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsync/">rsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsyslog/">rsyslog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snmp/">snmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/strace/">strace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sudo/">sudo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcpdump/">tcpdump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/CMD/" style="font-size: 10px;">CMD</a> <a href="/tags/Ceph/" style="font-size: 10.91px;">Ceph</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Flask/" style="font-size: 10px;">Flask</a> <a href="/tags/GTID/" style="font-size: 10.91px;">GTID</a> <a href="/tags/Kernel/" style="font-size: 10.91px;">Kernel</a> <a href="/tags/Kickstart/" style="font-size: 10px;">Kickstart</a> <a href="/tags/LB/" style="font-size: 10px;">LB</a> <a href="/tags/LVS/" style="font-size: 10px;">LVS</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lnmp/" style="font-size: 10px;">Lnmp</a> <a href="/tags/Log/" style="font-size: 10px;">Log</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 19.09px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 16.36px;">Nginx</a> <a href="/tags/NoSQL/" style="font-size: 12.73px;">NoSQL</a> <a href="/tags/Oracle/" style="font-size: 11.82px;">Oracle</a> <a href="/tags/PHP/" style="font-size: 10.91px;">PHP</a> <a href="/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/tags/Puppet/" style="font-size: 14.55px;">Puppet</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/RAC/" style="font-size: 10.91px;">RAC</a> <a href="/tags/Re/" style="font-size: 11.82px;">Re</a> <a href="/tags/ZK/" style="font-size: 10px;">ZK</a> <a href="/tags/Zabbix/" style="font-size: 18.18px;">Zabbix</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/coredump/" style="font-size: 10px;">coredump</a> <a href="/tags/couchbase/" style="font-size: 10px;">couchbase</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/diy/" style="font-size: 10px;">diy</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/expect/" style="font-size: 10px;">expect</a> <a href="/tags/facter/" style="font-size: 10px;">facter</a> <a href="/tags/faq/" style="font-size: 17.27px;">faq</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/highcharts/" style="font-size: 10px;">highcharts</a> <a href="/tags/idrac/" style="font-size: 10px;">idrac</a> <a href="/tags/iso/" style="font-size: 10px;">iso</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/lvm/" style="font-size: 10px;">lvm</a> <a href="/tags/pip/" style="font-size: 12.73px;">pip</a> <a href="/tags/redis/" style="font-size: 15.45px;">redis</a> <a href="/tags/rewrite/" style="font-size: 10px;">rewrite</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/rsyslog/" style="font-size: 10px;">rsyslog</a> <a href="/tags/snmp/" style="font-size: 10px;">snmp</a> <a href="/tags/strace/" style="font-size: 10px;">strace</a> <a href="/tags/sudo/" style="font-size: 10px;">sudo</a> <a href="/tags/tcpdump/" style="font-size: 10px;">tcpdump</a> <a href="/tags/tomcat/" style="font-size: 13.64px;">tomcat</a> <a href="/tags/vim/" style="font-size: 10.91px;">vim</a> <a href="/tags/web/" style="font-size: 12.73px;">web</a> <a href="/tags/wiki/" style="font-size: 10px;">wiki</a> <a href="/tags/zookeeper/" style="font-size: 12.73px;">zookeeper</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/12/839/">Linux 下使用 strace 诊断疑难杂症</a>
          </li>
        
          <li>
            <a href="/2016/04/27/MySQL_mysqldump_数据导出详解/">MySQL mysqldump 数据导出详解</a>
          </li>
        
          <li>
            <a href="/2016/04/24/Python_Re_module_learn/">Python Re module learn</a>
          </li>
        
          <li>
            <a href="/2016/04/22/Python正则表达式操作指南/">Python正则表达式操作指南</a>
          </li>
        
          <li>
            <a href="/2016/04/18/Hello_Kafka/">Hello Kafka</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jeffrey Su<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>