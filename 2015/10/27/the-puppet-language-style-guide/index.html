<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>The Puppet Language Style Guide | Suzf Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Puppet Language Style Guide: Version 2.0.1Puppet: Version 3.7+(Note: While the style guide maps to Puppet 3.7, many of its recommendations apply to Puppet 3.0.x and up.)## 1. TerminologyThe key words">
<meta property="og:type" content="article">
<meta property="og:title" content="The Puppet Language Style Guide">
<meta property="og:url" content="http://blog.suzf.net/2015/10/27/the-puppet-language-style-guide/index.html">
<meta property="og:site_name" content="Suzf Blog">
<meta property="og:description" content="Puppet Language Style Guide: Version 2.0.1Puppet: Version 3.7+(Note: While the style guide maps to Puppet 3.7, many of its recommendations apply to Puppet 3.0.x and up.)## 1. TerminologyThe key words">
<meta property="og:updated_time" content="2016-01-13T07:11:51.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Puppet Language Style Guide">
<meta name="twitter:description" content="Puppet Language Style Guide: Version 2.0.1Puppet: Version 3.7+(Note: While the style guide maps to Puppet 3.7, many of its recommendations apply to Puppet 3.0.x and up.)## 1. TerminologyThe key words">
  
    <link rel="alternative" href="/atom.xml" title="Suzf Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Suzf Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Life is short, We need smile.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.suzf.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-the-puppet-language-style-guide" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/27/the-puppet-language-style-guide/" class="article-date">
  <time datetime="2015-10-27T09:28:53.000Z" itemprop="datePublished">2015-10-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Puppet/">Puppet</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      The Puppet Language Style Guide
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div class="primary-secondary-content"><br><div class="primary-content"><nav id="page-nav" class="in-page"></nav><br><div id="rendered-markdown">Puppet Language Style Guide: Version 2.0.1Puppet: Version 3.7+<br><br>(Note: While the style guide maps to Puppet 3.7, many of its recommendations apply to Puppet 3.0.x and up.)<br><br>## 1. Terminology<br><br>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in <a href="http://www.faqs.org/rfcs/rfc2119.html" target="_blank" rel="external">RFC 2119</a>.<br><br>Unless explicitly called out, everything discussed here applies specifically to Puppet (i.e. Puppet modules, Puppet classes, etc.). To save your eyes and our fingers, ‘Puppet’ will not be appended to every topic discussed.<br><br>## 2. Purpose<br><br>The purpose of this style guide is to promote consistent formatting across modules (from Puppet Labs and the community), which gives users and developers of Puppet modules a common pattern, design, and style to follow. Additionally, consistency in code and module structure makes continued development and contributions easier.<br><br>## 3. Guiding Principles<br><br>We can never cover every possible circumstance you might run into when developing Puppet code or creating a module. Eventually, a judgement call will be necessary. When that happens, keep in mind the following general principles:<br><br>1.  <strong>Readability matters.</strong>If you have to choose between two equally effective alternatives, pick the more readable one. While this is subjective, if you can read your own code three months from now, it’s a great start. In particular, code that generates readable diffs is highly preferred.<br>2.  <strong>Scoping and simplicity are key.</strong>When in doubt, err on the side of simplicity. A module should contain related resources that enable it to accomplish a task. If you describe the function of your module and you find yourself using the word ‘and,’ it’s time to split the module at the ‘and.’ You should have one goal, with all your classes and parameters focused on achieving it.<br>3.  <strong>Your module is a piece of software.</strong>At least, you should treat it that way. When it comes to making decisions, choose the option that is easier to sustain in the long term.<br><br>## 4. Versioning<br><br>Your module must be versioned. We recommend (and use) <a href="http://semver.org/spec/v1.0.0.html" target="_blank" rel="external">SemVer</a>; meaning for a version x.y.z., an increase in x indicates backwards incompatible changes or a complete rewrite, an increase in y indicates the addition of new features, and an increase in z indicates non-breaking bug fixes.<br><br>This style guide is versioned using SemVer.<br><br>## 5. Spacing, Indentation, and Whitespace<br><br>Module manifests:<br><br><em>   Must use two-space soft tabs,
</em>   Must not use literal tab characters,<br><em>   Must not contain trailing whitespace,
</em>   Must have trailing commas after all resource attributes and parameter definitions,<br><em>   Should not exceed a 140-character line width,
</em>   Should leave one empty line between resources, except when using dependency chains, and<br><em>   Should align hash rockets (<code>=&amp;gt;</code>) within blocks of attributes, remembering to arrange hashes for maximum readability first.<br><br>## 6. Quoting

</em>   All strings must be enclosed in single quotes, unless they contain variables or single quotes.<br><em>   Quoting is optional when the string is an enumerable set of options (such as present/absent).
</em>   All variables must be enclosed in braces when interpolated in a string. For example:<br><strong>Good:</strong><br><br>        “/etc/${file}.conf”<br>        “${::operatingsystem} is not supported by ${module_name}”<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    “/etc/$file.conf”<br>        “$::operatingsystem is not supported by $module_name”<br>    <code>&lt;/pre&gt;

*   Variables standing by themselves should not be quoted, unless they are a resource title. For example:
    **Good:**
    &lt;pre&gt;</code>    mode =&gt; $my_mode<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    mode =&gt; “$my_mode”<br>        mode =&gt; “${my_mode}”<br>    <code>&lt;/pre&gt;

*   Double quotes should be used rather than escaping when a string contains single quotes.
    **Good:**
    &lt;pre&gt;</code>warning(“Class[‘apache’] parameter purge_vdir is deprecated in favor of purge_configs”)<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>warning(‘Class[\’apache\’] parameter purge_vdir is deprecated in favor of purge_configs’)<br>    <code>&lt;/pre&gt;

    ## 7\. Comments

    You must use hash comments (</code># This is a comment<code>). Comments should explain the **why**, not the **how**, of your code.

    **Good:**
    &lt;pre&gt;</code># Configures NTP<br>    file { ‘/etc/ntp.conf’: … }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>/<em> Creates file /etc/ntp.conf </em>/<br>    file { ‘/etc/ntp.conf’: … }<br>    <code>&lt;/pre&gt;

    ## 8\. Module Metadata

    Every publicly available module must have metadata defined in the metadata.json file. Your metadata should follow the below format:
    &lt;pre&gt;</code>    {<br>          “name”: “examplecorp-mymodule”,<br>          “version”: “0.1.0”,<br>          “author”: “Pat”,<br>          “license”: “Apache-2.0”,<br>          “summary”: “A module for a thing”,<br>          “source”: “<a href="https://github.com/examplecorp/examplecorp-mymodule" target="_blank" rel="external">https://github.com/examplecorp/examplecorp-mymodule</a>“,<br>          “project_page”: “<a href="https://github.com/examplecorp/examplecorp-mymodule" target="_blank" rel="external">https://github.com/examplecorp/examplecorp-mymodule</a>“,<br>          “issues_url”: “<a href="https://github.com/examplecorp/examplecorp-mymodules/issues" target="_blank" rel="external">https://github.com/examplecorp/examplecorp-mymodules/issues</a>“,<br>          “tags”: [“things”, “stuff”],<br>          “operatingsystem_support”: [<br>            {<br>              “operatingsystem”:”RedHat”,<br>              “operatingsystemrelease”: [<br>                “5.0”,<br>                “6.0”<br>              ]<br>            },<br>            {<br>              “operatingsystem”: “Ubuntu”,<br>              “operatingsystemrelease”: [<br>                “12.04”,<br>                “10.04”<br>             ]<br>            }<br>          ],<br>          “dependencies”: [<br>            { “name”: “puppetlabs/stdlib”, “version_requirement”: “&gt;= 3.2.0 &lt;5.0.0” },<br>            { “name”: “puppetlabs/firewall”, “version_requirement”: “&gt;= 0.4.0 &lt;5.0.0” },<br>          ]<br>        }<br>    <code>&lt;/pre&gt;
    A more complete guide to the metadata.json format can be found in the [docs](http://docs.puppetlabs.com/puppet/latest/reference/modules_publishing.html#write-a-metadatajson-file).

    ### 8.1 Dependencies

    Hard dependencies must be declared explicitly in your module’s metadata.json file. Soft dependencies should be called out in the README.md, and must not be enforced as a hard requirement in your metadata.json. A soft dependency is a dependency that is only required in a specific set of use cases. (As an example, see the [rabbitmq module](https://forge.puppetlabs.com/puppetlabs/rabbitmq#module-dependencies).)

    Your hard dependency declarations should not be unbounded.

    ## 9\. Resources

    ### 9.1\. Resource Names

    All resource titles must be quoted. If you are using an array of titles you must quote each title in the array, but cannot quote the array itself.

    **Good:**
    &lt;pre&gt;</code>    package { ‘openssh’: ensure =&gt; present }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    package { openssh: ensure =&gt; present }<br>    <code>&lt;/pre&gt;

    ### 9.2\. Arrow Alignment

    All of the hash rockets (</code>=&gt;<code>) in a resource’s attribute/value list should be aligned. The hash rockets should be placed one space ahead of the longest attribute name. Nested blocks must be indented by two spaces, and hash rockets within a nested block should be aligned (one space ahead of the longest attribute name).

    **Good:**
    &lt;pre&gt;</code>    exec { ‘hambone’:<br>          path =&gt; ‘/usr/bin’,<br>          cwd  =&gt; ‘/tmp’,<br>        }<br><br>        exec { ‘test’:<br>          subscribe   =&gt; File[‘/etc/test’],<br>          refreshonly =&gt; true,<br>        }<br><br>        myresource { ‘test’:<br>          ensure =&gt; present,<br>          myhash =&gt; {<br>            ‘myhash_key1’ =&gt; ‘value1’,<br>            ‘key2’        =&gt; ‘value2’,<br>          },<br>        }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    exec { ‘hambone’:<br>          path  =&gt; ‘/usr/bin’,<br>          cwd =&gt; ‘/tmp’,<br>        }<br><br>        exec { ‘test’:<br>          subscribe =&gt; File[‘/etc/test’],<br>          refreshonly =&gt; true,<br>        }<br>    <code>&lt;/pre&gt;

    ### 9.3\. Attribute Ordering

    If a resource declaration includes an</code>ensure<code>attribute, it should be the first attribute specified so a user can quickly see if the resource is being created or deleted.

    **Good:**
    &lt;pre&gt;</code>    file { ‘/tmp/readme.txt’:<br>          ensure =&gt; file,<br>          owner  =&gt; ‘0’,<br>          group  =&gt; ‘0’,<br>          mode   =&gt; ‘0644’,<br>        }<br>    <code>&lt;/pre&gt;

    ### 9.4\. Resource Arrangement

    Within a manifest, resources should be grouped by logical relationship to each other, rather than by resource type. Semicolons must not be used to declare multiple resources within a set of curly braces.

    **Good:**
    &lt;pre&gt;</code>    file { ‘/tmp/dir’:<br>          ensure =&gt; directory,<br>        }<br><br>        file { ‘/tmp/dir/a’:<br>          content =&gt; ‘a’,<br>        }<br><br>        file { ‘/tmp/dir2’:<br>          ensure =&gt; directory,<br>        }<br><br>        file { ‘/tmp/dir2/b’:<br>          content =&gt; ‘b’,<br>        }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    file { ‘/tmp/dir’:<br>          ensure =&gt; directory,<br>        }<br><br>        file { ‘/tmp/dir2’:<br>          ensure =&gt; directory,<br>        }<br><br>        file { ‘/tmp/dir/a’:<br>          content =&gt; ‘a’,<br>        }<br><br>        file { ‘/tmp/dir2/b’:<br>          content =&gt; ‘b’,<br>        }<br>    <code>&lt;/pre&gt;

    ### 9.5\. Symbolic Links

    Symbolic links must be declared with an ensure value of</code>ensure =&gt; link<code>and explicitly specify a value for the</code>target<code>attribute. Doing so more explicitly informs the user that a link is being created.

    **Good:**
    &lt;pre&gt;</code>    file { ‘/var/log/syslog’:<br>          ensure =&gt; link,<br>          target =&gt; ‘/var/log/messages’,<br>        }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    file { ‘/var/log/syslog’:<br>          ensure =&gt; ‘/var/log/messages’,<br>        }<br>    <code>&lt;/pre&gt;

    ### 9.6\. File Modes

*   POSIX numeric notation must be represented as 4 digits.
*   POSIX symbolic notation must be a string.
*   You should not use file mode with Windows; instead use the [acl module](https://forge.puppetlabs.com/puppetlabs/acl).
*   You should use numeric notation whenever possible.
    **Good:**
    &lt;pre&gt;</code>  file { ‘/var/log/syslog’:<br>          ensure =&gt; file,<br>          mode   =&gt; ‘0644’,<br>      }<br>    <code>&lt;/pre&gt;
    **Also Good:**
    &lt;pre&gt;</code>  file { ‘/var/log/syslog’:<br>          ensure =&gt; file,<br>          mode   =&gt; ‘o-rwx’,<br>      }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    file { ‘/var/log/syslog’:<br>          ensure =&gt; present,<br>          mode   =&gt; 644,<br>        }<br>    <code>&lt;/pre&gt;

    ### 9.7\. Resource Defaults

    Resource defaults should be used in a very controlled manner and should only be declared at the edges of your manifest ecosystem. Specifically, they may be declared:

*   At top scope in site.pp, or
*   In a class which is guaranteed to never declare or be inherited by a class or define from another module.
    This is due to the way resource defaults propagate through dynamic scope, which can have unpredictable effects far away from where the default was declared.

    **Good:**
    &lt;pre&gt;</code>    # /etc/puppetlabs/puppet/manifests/site.pp:<br>        File {<br>          owner =&gt; ‘root’,<br>          group =&gt; ‘0’,<br>          mode  =&gt; ‘0644’,<br>        }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    # /etc/puppetlabs/puppet/modules/apache/manifests/init.pp<br>        File {<br>          owner =&gt; ‘nobody’,<br>          group =&gt; ‘nogroup’,<br>          mode  =&gt; ‘0600’,<br>        }<br><br>        concat { $config_file_path:<br>          notify  =&gt; Class[‘Apache::Service’],<br>          require =&gt; Package[‘httpd’],<br>        }<br>    <code>&lt;/pre&gt;

    ## 10\. Classes and Defines

    ### 10.1\. Separate Files

    All classes and resource type definitions (defines) must be separate files in the</code>manifests<code>directory of the module.

    **Good:**
    &lt;pre&gt;</code>    # /etc/puppetlabs/puppet/modules/apache/manifests<br><br>        # init.pp<br>          class apache { }<br>        # ssl.pp<br>          class apache::ssl { }<br>        # virtual_host.pp<br>          define apache::virtual_host () { }<br>    <code>&lt;/pre&gt;
    Separating classes and defines into separate files is functionally identical to declaring them in init.pp, but has the benefit of highlighting the structure of the module and making the function and structure more legible.

    ### 10.2\. Internal Organization of Classes and Defines

    Classes and defines must be structured to accomplish one task. Below is a line-by-line general layout of what lines of code should come first, second, and so on.

1.  First line: Name of class or type.
2.  Following lines, if applicable: Define parameters.
3.  Next lines: Should validate* any parameters and fail catalog compilation if any parameters are invalid. (See [ntp](https://github.com/puppetlabs/puppetlabs-ntp/blob/3.3.0/manifests/init.pp#L28-L49) for an example.)
4.  Next lines, if applicable: Should declare local variables and perform variable munging.
5.  Next lines: Should declare resource defaults.
6.  Next lines: Should override resources if necessary.
    The following example follows the recommended style:
    &lt;pre&gt;</code>    # init.pp<br>        class myservice (<br>          $service_ensure     = $myservice::params::service_ensure,<br>          $package_list       = $myservice::params::package_list,<br>          $tempfile_contents  = $myservice::params::tempfile_contents,<br>        ) inherits myservice::params {<br><br>          if !($service_ensure in [ ‘running’, ‘stopped’ ]) {<br>            fail(‘ensure parameter must be running or stopped’)<br>          }<br><br>          if !$package_list {<br>            fail(“Module ${module_name} does not support ${::operatingsystem}”)<br>          }<br><br>          # temp file contents cannot contain numbers<br>          case $tempfile_contents {<br>            /\d/: {<br>              $_tempfile_contents = regsubst($tempfile_contents, ‘\d’, ‘’, ‘G’)<br>            }<br>            default: {<br>              $_tempfile_contents = $tempfile_contents<br>            }<br>          }<br><br>          $variable = ‘something’<br><br>          Package { ensure =&gt; present, }<br><br>          File {<br>            owner =&gt; ‘0’,<br>            group =&gt; ‘0’,<br>            mode  =&gt; ‘0644’,<br>         }<br><br>          package { $package_list: }<br><br>          file { “/tmp/${variable}”:<br>            ensure   =&gt; present,<br>            contents =&gt; $_tempfile_contents,<br>          }<br><br>          service { ‘myservice’:<br>            ensure    =&gt; $service_ensure,<br>            hasstatus =&gt; true,<br>          }<br><br>          Package[$package_list] -&gt; Service[‘myservice’]<br>        }<br><br>        # params.pp<br>        class myservice::params {<br>          $service_ensure = ‘running’<br><br>          case $::operatingsystem {<br>            ‘centos’: {<br>              $package_list = ‘myservice-centos-package’<br>            }<br>            ‘solaris’: {<br>              $package_list = [ ‘myservice-solaris-package1’, ‘myservice-solaris-package2’ ]<br>            }<br>            default: {<br>              $package_list = undef<br>            }<br>          }<br>        }<br>    <code>&lt;/pre&gt;

    ### 10.3\. Public and Private

    We recommend that you split your module into public and private classes and defines where possible. Public classes or defines should contain the parts of the module meant to be configured or customized by the user, while private classes should contain things you do not expect the user to change via parameters. Separating into public and private classes/defines helps build reusable and readable code.

    You should help indicate to the user which classes are which by both calling out the public classes in the README and making sure all public classes have complete [comments](https://docs.puppetlabs.com/guides/style_guide.html#comments).
    &gt; Note: As of stdlib 4.4.0, there is a</code>private<code>function that will cause a failure if a private class is called externally. You can use this to enforce the privacy of private classes.

    ### 10.4\. Chaining Arrow Syntax

    Most of the time, use [relationship metaparameters](https://docs.puppetlabs.com/puppet/latest/reference/lang_relationships.html#relationship-metaparameters) rather than [chaining arrows](https://docs.puppetlabs.com/puppet/latest/reference/lang_relationships.html#chaining-arrows). When you have many [interdependent or order-specific items](https://github.com/puppetlabs/puppetlabs-mysql/blob/3.1.0/manifests/server.pp#L64-L72), chaining syntax may be used. Chaining arrows must be used left to right.

    **Good:**
    &lt;pre&gt;</code>Package[‘httpd’] -&gt; Service[‘httpd’]<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>Service[‘httpd’] &lt;- Package[‘httpd’]<br>    <code>&lt;/pre&gt;

    ### 10.5\. Nested Classes or Defines

    Classes and defined resource types must not be defined within other classes or defined types. Classes and defines should be declared as close to node scope as possible. If you have a class or define which requires another class or define, graceful failures must be in place if those required classes or defines are not declared elsewhere.

    **Very Bad:**
    &lt;pre&gt;</code>    class apache {<br>          class ssl { … }<br>        }<br>    <code>&lt;/pre&gt;
    **Also Very Bad:**
    &lt;pre&gt;</code>    class apache {<br>          define config() { … }<br>        }<br>    <code>&lt;/pre&gt;

    ### 10.6\. Display Order of Parameters

    In parameterized class and define declarations, required parameters must be listed before optional parameters (i.e., parameters with defaults).

    **Good:**
    &lt;pre&gt;</code>class dhcp (<br>      $dnsdomain,<br>      $nameservers,<br>      $default_lease_time = 3600,<br>      $max_lease_time     = 86400<br>    ) {}<br><br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    class ntp (<br>          $options   = “iburst”,<br>          $servers,<br>          $multicast = false<br>        ) {}<br>    <code>&lt;/pre&gt;

    ### 10.7 Parameter defaults

    When writing a module that accepts class and define parameters, appropriate defaults should be provided for optional parameters. Establishing good defaults gives the end user the option of not explicitly specifying the parameter when declaring the class or define. Provided defaults should be specified with the parameter and not inside the class/define.

    When creating parameter defaults, you:

*   Must use fully qualified namespace variables when pulling the value from the module params class. This avoids namespace collisions. See [Namespacing Variables](https://docs.puppetlabs.com/guides/style_guide.html#namespacing-variables) for more information.
*   Should use the</code>_<code>prefix to indicate a scope local variable for maintainability over time.
    **Good:**
    &lt;pre&gt;</code>class my_module (<br>      $source = $my_module::params::source,<br>      $config = $my_module::params::config,<br>    ){}<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>class my_module (<br>      $source = undef,<br>    ) {<br>      if $source {<br>        $_source = $source<br>      } else {<br>        $_source = $my_module::params::source<br>      }<br>    }<br>    <code>&lt;/pre&gt;

    ### 10.8 Exported Resources

    Exported resources should be opt-in rather than opt-out. Your module should not be written to use exported resources to function by default unless it is expressly required. When using exported resources, you should name the property</code>collect_exported<code>.

    Exported resources should be exported and collected selectively using a [search expression](https://docs.puppetlabs.com/puppet/3.7/reference/lang_collectors.html#search-expressions), ideally allowing user-defined tags as parameters so tags can be used to selectively collect by environment or custom fact.

    **Good:**
    &lt;pre&gt;</code>define haproxy::frontend (<br>      $ports            = undef,<br>      $ipaddress        = [$::ipaddress],<br>      $bind             = undef,<br>      $mode             = undef,<br>      $collect_exported = false,<br>      $options          = {<br>        ‘option’  =&gt; [<br>          ‘tcplog’,<br>        ],<br>      },<br>    ) { … }<br>    <code>&lt;/pre&gt;

    ## 11\. Classes

    ### 11.1\. Class Inheritance

    Inheritance can be used within a module, but must not be used across module namespaces. Cross-module dependencies should be satisfied in a more portable way, such as with include statements or relationship declarations.

    **Good:**
    &lt;pre&gt;</code>    class ssh { … }<br><br>        class ssh::client inherits ssh { … }<br><br>        class ssh::server inherits ssh { … }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    class ssh inherits server { … }<br><br>        class ssh::client inherits workstation { … }<br><br>        class wordpress inherits apache { … }<br>    <code>&lt;/pre&gt;
    Generally, inheritance should be avoided when alternatives are viable. For example, rather than using inheritance to override relationships in an existing class when stopping a service, consider using a single class with an</code>ensure<code>parameter and conditional relationship declarations. For instance,
    &lt;pre&gt;</code>    class bluetooth (<br>          $ensure      = ‘present’,<br>          $autoupgrade = false,<br>        ) {<br>           # Validate class parameter inputs. (Fail early and fail hard)<br><br>           if ! ($ensure in [ ‘present’, ‘absent’ ]) {<br>             fail(‘bluetooth ensure parameter must be absent or present’)<br>           }<br><br>           if ! ($autoupgrade in [ true, false ]) {<br>             fail(‘bluetooth autoupgrade parameter must be true or false’)<br>           }<br><br>           # Set local variables based on the desired state<br><br>           if $ensure == ‘present’ {<br>             $service_enable = true<br>             $service_ensure = ‘running’<br>             if $autoupgrade {<br>               $package_ensure = ‘latest’<br>             } else {<br>               $package_ensure = ‘present’<br>             }<br>           } else {<br>             $service_enable = false<br>             $service_ensure = ‘stopped’<br>             $package_ensure = ‘absent’<br>           }<br><br>           # Declare resources without any relationships in this section<br><br>           package { [ ‘bluez-libs’, ‘bluez-utils’]:<br>             ensure =&gt; $package_ensure,<br>           }<br><br>           service { ‘hidd’:<br>             enable         =&gt; $service_enable,<br>             ensure         =&gt; $service_ensure,<br>             status         =&gt; ‘source /etc/init.d/functions; status hidd’,<br>             hasstatus      =&gt; true,<br>             hasrestart     =&gt; true,<br>          }<br><br>          # Finally, declare relations based on desired behavior<br><br>          if $ensure == ‘present’ {<br>            Package[‘bluez-libs’]  -&gt; Package[‘bluez-utils’]<br>            Package[‘bluez-libs’]  ~&gt; Service[‘hidd’]<br>            Package[‘bluez-utils’] ~&gt; Service[‘hidd’]<br>          } else {<br>            Service[‘hidd’]        -&gt; Package[‘bluez-utils’]<br>            Package[‘bluez-utils’] -&gt; Package[‘bluez-libs’]<br>          }<br>        }<br>    <code>&lt;/pre&gt;
    Remember:

    Class inheritance should only be used for</code>myclass::params<code>parameter defaults. Other use cases can be accomplished through the addition of parameters or conditional logic.

    ### 11.2 A Note About Publicly Available Modules

    When declaring classes in publicly available modules, you should use</code>include<code>,</code>contain<code>, or</code>require<code>rather than class resource declaration. This avoids duplicate class declarations and vendor lock-in.

    ## 12\. Defined Resource Types (Defines)

    ### 12.1\. Uniqueness

    Since defined resource types (defines) can have multiple instances, resource names must have a unique variable to avoid duplicate declarations.

    **Good:**
    &lt;pre&gt;</code>define apache::listen {<br>      $listen_addr_port = $name<br><br>      # Template uses: $listen_addr_port<br>      concat::fragment { “Listen ${listen_addr_port}”:<br>        ensure  =&gt; present,<br>        target  =&gt; $::apache::ports_file,<br>        content =&gt; template(‘apache/listen.erb’),<br>      }<br>    }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>file { ‘Required VHost directory’:<br>      path   =&gt; ‘/etc/apache/vhost/corpsite’,<br>      ensure =&gt; directory,<br>    }<br>    <code>&lt;/pre&gt;

    ## 13\. Variables

    ### 13.1\. Namespacing Variables

    You must scope all variables except for local or inherited variables. Scope inherited variables, when appropriate, for clarity. You should not mask/shadow inherited variables.

    You should avoid accidental scoping issues by explicitly specifying empty namespaces when using top-scope variables, including facts.

    **Good:**
    &lt;pre&gt;</code>    $::operatingsystem<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    $operatingsystem<br>    <code>&lt;/pre&gt;

    ### 13.2\. Variable Format

    When defining variables you must only use numbers, lowercase letters, and underscores. You should not use camelCasing, as it introduces inconsistency in style. You must also not use dashes, as they are not syntactically valid.

    **Good:**
    &lt;pre&gt;</code>$foo_bar<br>    $some_long_variable<br>    $foo_bar123<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>$fooBar<br>    $someLongVariable<br>    $foo-bar123<br>    <code>&lt;/pre&gt;

    ## 14\. Conditionals

    ### 14.1\. Keep Resource Declarations Simple

    We recommend not mixing conditionals with resource declarations. When you use conditionals for data assignment, you should separate conditional code from the resource declarations.

    **Good:**
    &lt;pre&gt;</code>    $file_mode = $::operatingsystem ? {<br>          ‘debian’ =&gt; ‘0007’,<br>          ‘redhat’ =&gt; ‘0776’,<br>           default =&gt; ‘0700’,<br>        }<br><br>        file { ‘/tmp/readme.txt’:<br>          ensure  =&gt; file,<br>          content =&gt; “Hello World\n”,<br>          mode    =&gt; $file_mode,<br>        }<br>    <code>&lt;/pre&gt;
    **Bad:**
    &lt;pre&gt;</code>    file { ‘/tmp/readme.txt’:<br>          ensure  =&gt; file,<br>          content =&gt; “Hello World\n”,<br>          mode    =&gt; $::operatingsystem ? {<br>            ‘debian’ =&gt; ‘0777’,<br>            ‘redhat’ =&gt; ‘0776’,<br>            default  =&gt; ‘0700’,<br>          }<br>        }<br>    <code>&lt;/pre&gt;

    ### 14.2\. Defaults for Case Statements and Selectors

    Case statements must have default cases. If you want the default case to be “do nothing,” you must include it as an explicit</code>default: {}<code>for clarity’s sake.

    Case and selector values must be quoted.

    Selectors should omit default selections only if you explicitly want catalog compilation to fail when no value matches.

    **Good:**
    &lt;pre&gt;</code>    case $::operatingsystem {<br>          ‘centos’: {<br>            $version = ‘1.2.3’<br>          }<br>          ‘solaris’: {<br>            $version = ‘3.2.1’<br>          }<br>          default: {<br>            fail(“Module ${module_name} is not supported on ${::operatingsystem}”)<br>          }<br>        }<br>    <code>&lt;/pre&gt;
    When setting the default case, keep in mind that the default case should cause the catalog compilation to fail if the resulting behavior cannot be predicted on the platforms the module was built to be used on.

    ## 15\. Hiera

    You should avoid using calls to Hiera functions in modules meant for public consumption, because not all users have implemented Hiera. Instead, we recommend using parameters that can be overridden with Hiera.

    ## 16\. Examples

    Major use cases for your module should have corresponding example manifests in the module’s /examples directory.
    &lt;pre&gt;</code>modulepath/apache/examples/{usecase}.pp<br><br>The example manifest should provide a clear example of how to declare the class or defined resource type. The example manifest should also declare any classes required by the corresponding class to ensure <code>puppet apply</code> works in a limited, standalone manner.<br><br>## 17. Module Documentation<br><br>All publicly available modules should include the documentation covered below.<br><br>### 17.1 README<br><br>Your module should have a README in .md (or .markdown) format. READMEs help users of your module get the full benefit of your work. There is a <a href="https://docs.puppetlabs.com/puppet/latest/reference/READMEtemplate.txt" target="_blank" rel="external">Puppet Labs README template</a> available for your use; it can also be obtained by running <code>puppet module generate</code> (available in Puppet 3.6 and above). Using the .md/.markdown format allows your README to be parsed and displayed by both GitHub and the Puppet Forge.<br><br>If you are prolific with your in-code comments, you can use <code>puppet doc</code> up until Puppet 4 is released. If you’re currently using the future parser, you might want to check out <a href="https://github.com/puppetlabs/puppetlabs-strings" target="_blank" rel="external">strings</a>, the replacement for <code>puppet doc</code> that (only) works with the future parser.<br><br>There’s an entire <a href="https://docs.puppetlabs.com/puppet/latest/reference/modules_documentation.html" target="_blank" rel="external">guide</a> to writing a great README, but overall you should:<br><br><em>   Call out what your module does.
</em>   Note any part of a user’s system the module might impact (e.g. “This module will overwrite everything in animportantfile.conf.”).<br><em>   List all of the classes, defines, types, providers, and parameters the user might need to configure with a brief description, the default values (if any), and what the valid options are.<br><br>### 17.2 CHANGELOG<br><br>Your module should have a CHANGELOG in .md (or .markdown) format. Your CHANGELOG should:

</em>   Have entries for each release.<br><em>   List bugfixes and features included in the release.
</em>   Specifically call out backwards-incompatible changes<br><br>## 19. Verifying style<br><br>This guide helps development of <a href="http://puppet-lint.com/" target="_blank" rel="external">puppet-lint</a> and <a href="https://github.com/nibalizer/metadata-json-lint" target="_blank" rel="external">metadata-json-lint</a><a href="http://fc09.deviantart.net/fs70/i/2012/232/0/a/welcome_to_the_internet__please_follow_me_by_sharpwriter-d5buwfu.jpg" target="_blank" rel="external">.</a><br><br></div><br>&gt; <a href="https://docs.puppetlabs.com/guides/style_guide.html#content" target="_blank" rel="external">↑ Back to top</a><br></div><br><nav class="main"><br><div id="subCol"><br><br><em>   <a href="https://docs.puppetlabs.com/guides/style_guide.html#" target="_blank" rel="external"> Docs Quick Nav </a><br><br>### Elsewhere in the Docs:<br><br>If this page isn’t quite what you need, you might be looking for one of these:<br><br>#### Using Puppet

</em>   <a href="https://docs.puppetlabs.com/references/latest/type.html" target="_blank" rel="external">Type Reference</a> — Info for every resource type.<br><em>   <a href="https://docs.puppetlabs.com/puppet/latest/reference/lang_summary.html" target="_blank" rel="external">Language Reference</a> — How to write Puppet code.
</em>   <a href="https://docs.puppetlabs.com/learning/" target="_blank" rel="external">Learning Puppet</a> — Guided intro with free VM.<br><em>   <a href="https://docs.puppetlabs.com/windows/" target="_blank" rel="external">Puppet on Windows</a> — Special notes for Windows users.
</em>   <a href="https://docs.puppetlabs.com/references/latest/man/" target="_blank" rel="external">Man Pages</a> — Docs for Puppet’s CLI tools.<br><br>#### Administering Puppet<br><br><em>   <a href="https://docs.puppetlabs.com/pe/latest/install_basic.html" target="_blank" rel="external">Installing Puppet Enterprise</a>
</em>   <a href="https://docs.puppetlabs.com/pe/latest/install_upgrading.html" target="_blank" rel="external">Upgrading Puppet Enterprise</a><br><em>   <a href="https://docs.puppetlabs.com/puppet/latest/reference/install_pre.html" target="_blank" rel="external">Installing Open Source Puppet</a>
</em>   <a href="https://docs.puppetlabs.com/puppet/latest/reference/upgrade_agent.html" target="_blank" rel="external">Upgrading 3.x to 4.x Agents</a><br><em>   <a href="https://docs.puppetlabs.com/puppet/latest/reference/upgrade_server.html" target="_blank" rel="external">Upgrading 3.x to 4.x Server</a>
</em>   <a href="http://info.puppetlabs.com/download-pe.html" target="_blank" rel="external">Puppet Enterprise Downloads</a><br><br>#### What Are These Variables?<br><br><em>   <a href="https://docs.puppetlabs.com/facter/latest/core_facts.html" target="_blank" rel="external">Facts</a>
</em>   <a href="https://docs.puppetlabs.com/puppet/latest/reference/lang_facts_and_builtin_vars.html" target="_blank" rel="external">Other Special Variables</a><br></div><br>&nbsp;<br><br>Reference: <a href="https://docs.puppetlabs.com/guides/style_guide.html" target="_blank" rel="external">https://docs.puppetlabs.com/guides/style_guide.html</a><br><br></nav></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.suzf.net/2015/10/27/the-puppet-language-style-guide/" data-id="ciq4n5j6v00337xo9q9gmacc1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Puppet/">Puppet</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/11/03/python-use-smtplib-to-send-mail/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          How-to: use Python send mail with To Cc &amp; Bcc
        
      </div>
    </a>
  
  
    <a href="/2015/10/22/use-python-send-email/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Use Python send mail</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apache/">Apache</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Auto-ops/">Auto ops</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CouchBase/">CouchBase</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hardware/">Hardware</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Highcharts/">Highcharts</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LVS/">LVS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Oracle/">Oracle</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Puppet/">Puppet</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shell/">Shell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a><span class="category-list-count">13</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CMD/">CMD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ceph/">Ceph</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/">Debian</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/">ELK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Exsi/">Exsi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/">Flask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTID/">GTID</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kernel/">Kernel</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kickstart/">Kickstart</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LB/">LB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LVS/">LVS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Life/">Life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lnmp/">Lnmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Log/">Log</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Proxy/">Proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Puppet/">Puppet</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Re/">Re</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZK/">ZK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zabbix/">Zabbix</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coredump/">coredump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/couchbase/">couchbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debug/">debug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diy/">diy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expect/">expect</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/facter/">facter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/faq/">faq</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/highcharts/">highcharts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idrac/">idrac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iso/">iso</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm/">lvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rewrite/">rewrite</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsync/">rsync</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rsyslog/">rsyslog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/snmp/">snmp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/strace/">strace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sudo/">sudo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcpdump/">tcpdump</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/CMD/" style="font-size: 10px;">CMD</a> <a href="/tags/Ceph/" style="font-size: 10.91px;">Ceph</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Exsi/" style="font-size: 10px;">Exsi</a> <a href="/tags/Flask/" style="font-size: 10px;">Flask</a> <a href="/tags/GTID/" style="font-size: 10.91px;">GTID</a> <a href="/tags/Kernel/" style="font-size: 10.91px;">Kernel</a> <a href="/tags/Kickstart/" style="font-size: 10px;">Kickstart</a> <a href="/tags/LB/" style="font-size: 10px;">LB</a> <a href="/tags/LVS/" style="font-size: 10px;">LVS</a> <a href="/tags/Life/" style="font-size: 10px;">Life</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lnmp/" style="font-size: 10px;">Lnmp</a> <a href="/tags/Log/" style="font-size: 10px;">Log</a> <a href="/tags/MongoDB/" style="font-size: 11.82px;">MongoDB</a> <a href="/tags/Mysql/" style="font-size: 19.09px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 16.36px;">Nginx</a> <a href="/tags/NoSQL/" style="font-size: 12.73px;">NoSQL</a> <a href="/tags/Oracle/" style="font-size: 11.82px;">Oracle</a> <a href="/tags/PHP/" style="font-size: 10.91px;">PHP</a> <a href="/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/tags/Puppet/" style="font-size: 14.55px;">Puppet</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/RAC/" style="font-size: 10.91px;">RAC</a> <a href="/tags/Re/" style="font-size: 11.82px;">Re</a> <a href="/tags/ZK/" style="font-size: 10px;">ZK</a> <a href="/tags/Zabbix/" style="font-size: 18.18px;">Zabbix</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/code/" style="font-size: 10px;">code</a> <a href="/tags/coredump/" style="font-size: 10px;">coredump</a> <a href="/tags/couchbase/" style="font-size: 10px;">couchbase</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/diy/" style="font-size: 10px;">diy</a> <a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a> <a href="/tags/expect/" style="font-size: 10px;">expect</a> <a href="/tags/facter/" style="font-size: 10px;">facter</a> <a href="/tags/faq/" style="font-size: 17.27px;">faq</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/highcharts/" style="font-size: 10px;">highcharts</a> <a href="/tags/idrac/" style="font-size: 10px;">idrac</a> <a href="/tags/iso/" style="font-size: 10px;">iso</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/lvm/" style="font-size: 10px;">lvm</a> <a href="/tags/pip/" style="font-size: 12.73px;">pip</a> <a href="/tags/redis/" style="font-size: 15.45px;">redis</a> <a href="/tags/rewrite/" style="font-size: 10px;">rewrite</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/rsyslog/" style="font-size: 10px;">rsyslog</a> <a href="/tags/snmp/" style="font-size: 10px;">snmp</a> <a href="/tags/strace/" style="font-size: 10px;">strace</a> <a href="/tags/sudo/" style="font-size: 10px;">sudo</a> <a href="/tags/tcpdump/" style="font-size: 10px;">tcpdump</a> <a href="/tags/tomcat/" style="font-size: 13.64px;">tomcat</a> <a href="/tags/vim/" style="font-size: 10.91px;">vim</a> <a href="/tags/web/" style="font-size: 12.73px;">web</a> <a href="/tags/wiki/" style="font-size: 10px;">wiki</a> <a href="/tags/zookeeper/" style="font-size: 12.73px;">zookeeper</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">10</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/12/839/">Linux 下使用 strace 诊断疑难杂症</a>
          </li>
        
          <li>
            <a href="/2016/04/27/MySQL_mysqldump_数据导出详解/">MySQL mysqldump 数据导出详解</a>
          </li>
        
          <li>
            <a href="/2016/04/24/Python_Re_module_learn/">Python Re module learn</a>
          </li>
        
          <li>
            <a href="/2016/04/22/Python正则表达式操作指南/">Python正则表达式操作指南</a>
          </li>
        
          <li>
            <a href="/2016/04/18/Hello_Kafka/">Hello Kafka</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jeffrey Su<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>